{"version":3,"sources":["../public/images/ignition.svg","store/session.js","store/devices.js","store/positions.js","store/geofences.js","store/groups.js","store/drivers.js","store/maintenances.js","store/index.js","common/usePersistedState.js","LocalizationProvider.js","RemoveDialog.js","EditCollectionView.js","reactHelper.js","common/formatter.js","common/selectors.js","DevicesList.js","map/switcher/switcher.js","common/deviceCategories.js","map/mapUtil.js","map/mapStyles.js","common/preferences.js","theme/palette.js","map/Map.js","map/SelectedDeviceMap.js","map/AccuracyMap.js","map/GeofenceMap.js","map/StatusView.js","theme/dimensions.js","theme/overrides.js","theme/index.js","map/PositionsMap.js","map/CurrentPositionsMap.js","map/CurrentLocationMap.js","components/BottomMenu.js","map/PoiMap.js","map/MapPadding.js","MainPage.js","reports/ReportFilter.js","components/SideNav.js","components/NavBar.js","reports/ReportLayout.js","reports/RouteReportPage.js","attributes/AddAttributeDialog.js","attributes/EditAttributesView.js","attributes/useDeviceAttributes.js","attributes/useUserAttributes.js","settings/OptionsLayout/useRoutes.js","settings/OptionsLayout/index.js","admin/ServerPage.js","admin/UsersPage.js","EditItemView.js","form/SelectField.js","form/LinkField.js","common/stringUtils.js","DevicePage.js","UserPage.js","SocketController.js","settings/NotificationsPage.js","settings/NotificationPage.js","settings/GroupsPage.js","settings/GroupPage.js","MainToolbar.js","PositionPage.js","reports/EventReportPage.js","map/ReplayPathMap.js","reports/ReplayPage.js","reports/TripReportPage.js","reports/StopReportPage.js","reports/SummaryReportPage.js","reports/Graph.js","common/converter.js","reports/ChartReportPage.js","settings/DriversPage.js","settings/DriverPage.js","settings/CalendarsPage.js","settings/CalendarPage.js","settings/ComputedAttributesPage.js","attributes/usePositionAttributes.js","settings/ComputedAttributePage.js","settings/MaintenancesPage.js","settings/MaintenancePage.js","admin/StatisticsPage.js","CachingController.js","StartPage.js","components/registration/LoginForm.js","components/registration/RegisterForm.js","components/registration/ResetPasswordForm.js","common/useQuery.js","map/GeofenceEditMap.js","GeofencesList.js","GeofencesPage.js","GeofencePage.js","attributes/useGeofenceAttributes.js","App.js","serviceWorker.js","index.js"],"names":["_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","title","props","createElement","width","height","viewBox","fill","ref","fillRule","clipRule","d","ForwardRef","forwardRef","createSlice","name","initialState","server","user","reducers","updateServer","state","action","payload","updateUser","reducer","actions","items","selectedId","refresh","forEach","item","id","update","select","remove","deviceId","combineReducers","session","devices","positions","geofences","groups","drivers","maintenances","configureStore","defaultValue","useState","stickyValue","window","localStorage","getItem","JSON","parse","value","setValue","useEffect","setItem","stringify","languages","af","data","ar","az","bg","bn","cs","de","da","el","en","es","fa","fi","fr","he","hi","hr","hu","it","ja","ka","kk","ko","km","lo","lt","lv","ml","mn","ms","nb","ne","nl","nn","pl","pt","ptBR","ro","ru","si","sk","sl","sq","sr","sv","ta","th","tr","uk","uz","vi","zh","zhTW","LocalizationContext","createContext","language","setLanguage","LocalizationProvider","children","usePersistedState","browserLanguages","navigator","slice","browserLanguage","userLanguage","push","substring","replace","getDefaultLanguage","Provider","useTranslation","context","useContext","RemoveDialog","open","endpoint","itemId","onResult","t","handleRemove","a","fetch","method","ok","Dialog","onClose","DialogContent","DialogContentText","DialogActions","Button","color","onClick","autoFocus","useStyles","makeStyles","theme","fab","position","bottom","spacing","right","EditCollectionView","content","editPath","disableAdd","filter","classes","history","useHistory","setSelectedId","selectedAnchorEl","setSelectedAnchorEl","removeDialogShown","setRemoveDialogShown","Date","now","updateTimestamp","setUpdateTimestamp","adminEnabled","useSelector","administrator","menuHide","Content","onMenuClick","anchorId","Fab","size","className","Menu","anchorEl","MenuItem","useEffectAsync","effect","deps","useRef","then","result","current","formatBoolean","formatDate","format","moment","formatPosition","toFixed","precision","Number","formatNumber","formatDistance","unit","formatSpeed","formatVolume","formatHours","duration","humanize","formatCoordinate","hemisphere","degrees","minutes","seconds","Math","abs","floor","round","getStatusColor","status","getIsAdmin","getUserId","getDevices","values","getPosition","list","maxHeight","listInner","margin","icon","listItem","backgroundColor","batteryText","fontSize","fontWeight","lineHeight","green","palette","common","red","gray","indicators","DeviceRow","batteryLevel","index","style","dispatch","useDispatch","showIgnition","attributes","ignition","ListItem","button","devicesActions","ListItemAvatar","Avatar","src","category","alt","ListItemText","primary","secondary","ListItemSecondaryAction","Grid","container","direction","alignItems","alignContent","SvgIcon","component","IgnitionIcon","xs","DeviceView","listInnerEl","filteredItems","setFilteredItems","trim","uniqueId","toLowerCase","includes","response","json","List","disablePadding","itemCount","itemData","itemSize","overscanCount","innerRef","DevicesList","SwitcherControl","onBeforeSwitch","onAfterSwitch","onDocumentClick","bind","styles","currentStyle","updatedStyles","selectedStyle","selectedStyleElement","mapStyleContainer","firstChild","removeChild","styleElement","document","type","innerText","dataset","uri","addEventListener","event","classList","contains","onSelectStyle","add","appendChild","map","setStyle","display","styleButton","elements","getElementsByClassName","controlContainer","parentNode","removeEventListener","undefined","loadImage","url","Promise","imageLoaded","image","Image","onload","prepareIcon","background","canvas","devicePixelRatio","getContext","drawImage","imageWidth","imageHeight","userAgent","save","fillStyle","globalAlpha","fillRect","globalCompositeOperation","restore","canvasTintImage","getImageData","reverseCoordinates","Array","isArray","isNaN","coordinates","geofenceToFeature","area","split","polygon","circle","steps","units","geometry","properties","geometryToArea","styleMapbox","styleMapTiler","styleLocationIq","usePreference","forceSettings","useAttributePreference","purple","main","contrastText","colors","element","maplibregl","Map","ready","readyListeners","Set","updateReadyValue","listener","initMap","hasImage","pixelRatio","addImage","all","deviceCategories","results","addControl","NavigationControl","showCompass","switcher","waiting","loaded","setTimeout","containerEl","mapReady","setMapReady","mapboxAccessToken","mapTilerKey","locationIqKey","accessToken","updateStyles","version","sources","osm","tiles","attribution","tileSize","glyphs","layers","minzoom","maxzoom","addReadyListener","delete","removeReadyListener","useLayoutEffect","currentEl","resize","SelectedDeviceMap","mapCenter","longitude","latitude","easeTo","center","AccuracyMap","features","accuracy","addSource","addLayer","paint","getLayer","removeLayer","getSource","removeSource","setData","GeofenceMap","layout","paper","listItemContainer","maxWidth","StatusView","onShowDetails","onShowHistory","onEditClick","device","distanceUnit","speedUnit","Paper","elevation","square","speed","totalDistance","course","e","preventDefault","IconButton","inputHeight","borderRadius","sidebarWidth","sidebarWidthTablet","drawerWidthDesktop","drawerWidthTablet","columnWidthDate","columnWidthNumber","columnWidthString","columnWidthBoolean","MuiFormControl","root","marginTop","marginBottom","MuiInputLabel","filled","transform","MuiFilledInput","dimensions","input","paddingTop","paddingBottom","boxSizing","WebkitBoxShadow","underline","borderBottom","MuiSelect","MuiButton","opacity","contained","MuiFormHelperText","marginLeft","MuiAutocomplete","inputRoot","createTheme","overrides","PositionsMap","clusters","deviceColor","createFeature","onMouseEnter","getCanvas","cursor","onMouseLeave","onMarkerClick","useCallback","feature","lngLat","lng","placeholder","ReactDOM","render","store","ThemeProvider","positionId","Popup","offset","anchor","setDOMContent","setLngLat","addTo","onClusterClick","queryRenderedFeatures","point","clusterId","cluster_id","getClusterExpansionZoom","error","zoom","cluster","clusterMaxZoom","clusterRadius","on","from","getContainer","off","CurrentPositionsMap","CurrentLocationMap","control","GeolocateControl","positionOptions","enableHighAccuracy","timeout","trackUserLocation","removeControl","left","zIndex","breakpoints","up","BottomMenu","handleSelection","_","sessionActions","BottomNavigation","onChange","showLabels","BottomNavigationAction","label","PoiMap","poiLayer","file","DOMParser","text","dom","parseFromString","kml","MapPadding","top","setPadding","sidebar","flexDirection","transition","down","sidebarCollapsed","toolbar","padding","deviceList","flex","sidebarToggle","minWidth","sidebarToggleText","only","sidebarToggleBg","MainPage","useTheme","isTablet","useMediaQuery","isPhone","searchKeyword","setSearchKeyword","collapsed","setCollapsed","handleClose","parseInt","variant","containedPrimary","disableElevation","Toolbar","disableGutters","TextField","fullWidth","autoComplete","ReportFilter","handleSubmit","showOnly","setDeviceId","period","setPeriod","subtract","setFrom","to","setTo","handleClick","mail","selectedFrom","selectedTo","startOf","endOf","accept","toISOString","Accept","justifyContent","sm","FormControl","InputLabel","Select","HTML5_FMT","DATETIME_LOCAL","Typography","noWrap","SideNav","routes","location","useLocation","route","subheader","Divider","ListSubheader","disableRipple","Link","href","selected","pathname","match","ListItemIcon","Navbar","setOpenDrawer","AppBar","aria-label","edge","drawerContainer","drawer","drawerHeader","mixins","backArrowIconContainer","ReportLayout","openDrawer","reportTitle","setReportTitle","useMemo","pageTitle","Hidden","NavBar","Drawer","Filter","setItems","headers","query","URLSearchParams","toString","contentType","get","URL","blob","createObjectURL","RouteReportPage","coordinateFormat","columns","headerName","field","valueFormatter","valueGetter","row","hide","rows","hideFooter","autoHeight","AddAttributeDialog","definitions","createFilterOptions","option","options","entries","setKey","setType","Autocomplete","filterOptions","params","filtered","inputValue","getOptionLabel","renderOption","freeSolo","renderInput","disabled","addButton","removeButton","marginRight","EditAttributesView","setAttributes","addDialogShown","setAddDialogShown","updateAttribute","updatedAttributes","deleteAttribute","getAttributeName","definition","booleanList","otherList","getAttributeType","concat","convertToList","justify","FormControlLabel","Checkbox","checked","FilledInput","endAdornment","InputAdornment","startIcon","speedLimit","notificationTokens","volumeUnit","timezone","isAdmin","mainRoutes","userId","useMainRoutes","adminRoutes","useAdminRoutes","OptionsLayout","useRoutes","optionTitle","setOptionTitle","activeRoute","find","lgUp","mdDown","buttons","flexBasis","details","ServerPage","userAttributes","useUserAttributes","deviceAttributes","useDeviceAttributes","updatedItem","handleSave","body","goBack","Container","Accordion","defaultExpanded","AccordionSummary","expandIcon","AccordionDetails","mapUrl","announcement","registration","readonly","deviceReadonly","limitCommands","columnAction","UsersView","TableContainer","Table","TableHead","TableRow","TableCell","TableBody","currentTarget","email","UsersPage","EditItemView","useParams","SelectField","multiple","emptyValue","keyGetter","titleGetter","LinkField","endpointAll","endpointLinked","baseId","keyBase","keyLink","linked","setLinked","createBody","linkId","oldValue","newValue","added","removed","prefixString","prefix","charAt","toUpperCase","DevicePage","groupId","phone","model","contact","c","description","UserPage","password","connect","authenticated","socketRef","events","setEvents","notifications","setNotifications","connectSocket","protocol","socket","WebSocket","host","onerror","onmessage","positionsActions","close","message","show","notification","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","NotificationsView","formatList","Boolean","join","always","alarms","notificators","NotificationsPage","NotificationPage","predicate","useTranslationKeys","startsWith","GroupsView","GroupsPage","GroupPage","flexGrow","appBar","menuButton","MainToolbar","selectors","setDrawer","closeDrawer","handleLogout","tabIndex","role","onKeyDown","PositionPage","formatKey","combinedList","attributesList","eventTypes","setEventTypes","append","EventReportPage","geofence","formatGeofence","ReplayPathMap","bounds","reduce","extend","LngLatBounds","fitBounds","typography","formControlLabel","paddingRight","reportFilterContainer","sliderContainer","TimeLabel","Tooltip","enterTouchDelay","placement","ReplayPage","timerRef","setPositions","setIndex","selectedDeviceId","setSelectedDeviceId","playbackSpeed","setPlaybackSpeed","expanded","setExpanded","isPlaying","setIsPlaying","deviceName","setInterval","console","log","clearInterval","replay","fullScreen","Switch","labelPlacement","Slider","max","step","marks","valueLabelDisplay","valueLabelFormat","ValueLabelComponent","TripReportPage","getRowId","random","StopReportPage","daily","setDaily","SummaryReportPage","CustomizedAxisTick","x","y","parts","dy","textAnchor","withWidth","ResponsiveContainer","debounce","LineChart","XAxis","dataKey","tick","YAxis","CartesianGrid","strokeDasharray","Legend","Line","speedConverter","distanceConverter","speedFromKnots","formattedPositions","altitude","fixTime","ChartType","ChartReportPage","DriversView","DriversPage","DriverPage","CalendarsView","CalendarsPage","CalendarPage","filesLimit","files","reader","FileReader","substr","readAsDataURL","ComputedAttributeView","attribute","expression","ComputedAttributesPage","raw","odometer","dataType","ComputedAttributePage","positionAttributes","usePositionAttributes","positionAttribute","multiline","MaintenancesView","convertAttribute","start","MaintenacesPage","MaintenancePage","labels","setLabels","rawToValue","distanceFromMeters","valueToRaw","speedToKnots","distanceToMeters","InputProps","StatisticsPage","captureTime","activeUsers","activeDevices","requests","messagesReceived","messagesStored","mailSent","smsSent","geocoderRequests","geolocationRequests","geofencesActions","groupsActions","driversActions","maintenancesActions","boxShadow","form","StartPage","xlinkHref","process","logoContainer","textAlign","resetPassword","LoginForm","languageList","code","failed","setFailed","setEmail","setPassword","registrationEnabled","emailEnabled","encodeURIComponent","handleSpecialKey","keyCode","required","onKeyUp","helperText","textTransform","link","RegisterForm","setName","snackbarOpen","setSnackbarOpen","test","ResetPasswordForm","token","search","draw","MapboxDraw","displayControlsDefault","controls","trash","userProperties","GeofenceEditMap","refreshGeofences","newItem","deleteAll","overflow","GeofenceView","GeofencesList","drawerPaper","mapContainer","isWidthUp","GeofencePage","geofenceAttributes","useGeofenceAttributes","App","initialized","CssBaseline","exact","path","GeofencesPage","MaintenancesPage","LinearProgress","isLocalhost","hostname","registerValidSW","swUrl","config","serviceWorker","register","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","getElementById","origin","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.2d5172bc.chunk.js","sourcesContent":["var _path;\n\nvar _excluded = [\"svgRef\", \"title\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgIgnition = function SvgIgnition(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M17 8H19.5C19.81 8 20.11 8.15 20.3 8.4L22.6 11.47C22.86 11.82 23 12.24 23 12.67V16C23 16.55 22.55 17 22 17H21C21 18.66 19.66 20 18 20C16.34 20 15 18.66 15 17H9C9 18.66 7.66 20 6 20C4.34 20 3 18.66 3 17C1.9 17 1 16.1 1 15V6C1 4.9 1.9 4 3 4H15C16.1 4 17 4.9 17 6V8ZM5 17C5 17.55 5.45 18 6 18C6.55 18 7 17.55 7 17C7 16.45 6.55 16 6 16C5.45 16 5 16.45 5 17ZM21.46 12L19.5 9.5H17V12H21.46ZM17 17C17 17.55 17.45 18 18 18C18.55 18 19 17.55 19 17C19 16.45 18.55 16 18 16C17.45 16 17 16.45 17 17ZM7.7704 16.1299L8.3613 16.2341C8.3613 16.2341 9.91885 14.1732 13.0446 10.0602L13.1033 9.96899C13.1774 9.86019 13.1742 9.63624 12.8847 9.58519L10.8165 9.22052L12.2178 4.72894L11.6269 4.62475C10.789 5.73304 10.0364 6.72746 9.36924 7.60897C8.4039 8.88444 7.61745 9.92355 7.01063 10.7292C6.99419 10.7534 7.10701 10.5973 6.95538 10.8007C6.80375 11.0041 6.7608 11.2132 7.10352 11.2736L9.17166 11.6383L7.7704 16.1299Z\",\n    fill: \"#F3A813\"\n  })));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgIgnition, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/ignition.980c0bdb.svg\";\nexport { ForwardRef as ReactComponent };","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'session',\n  initialState: {\n    server: null,\n    user: null,\n  },\n  reducers: {\n    updateServer(state, action) {\n      state.server = action.payload;\n    },\n    updateUser(state, action) {\n      state.user = action.payload;\n    },\n  },\n});\n\nexport { actions as sessionActions };\nexport { reducer as sessionReducer };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'devices',\n  initialState: {\n    items: {},\n    selectedId: null,\n  },\n  reducers: {\n    refresh(state, action) {\n      state.items = {};\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n    update(state, action) {\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n    select(state, action) {\n      state.selectedId = action.payload.id;\n    },\n    remove(state, action) {\n      delete state.items[action.payload];\n    },\n  },\n});\n\nexport { actions as devicesActions };\nexport { reducer as devicesReducer };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'positions',\n  initialState: {\n    items: {},\n  },\n  reducers: {\n    update(state, action) {\n      action.payload.forEach((item) => state.items[item.deviceId] = item);\n    },\n  },\n});\n\nexport { actions as positionsActions };\nexport { reducer as positionsReducer };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'geofences',\n  initialState: {\n    items: {},\n  },\n  reducers: {\n    refresh(state, action) {\n      state.items = {};\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n    update(state, action) {\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n  },\n});\n\nexport { actions as geofencesActions };\nexport { reducer as geofencesReducer };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'groups',\n  initialState: {\n    items: {},\n  },\n  reducers: {\n    update(state, action) {\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n  },\n});\n\nexport { actions as groupsActions };\nexport { reducer as groupsReducer };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'drivers',\n  initialState: {\n    items: {},\n  },\n  reducers: {\n    update(state, action) {\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n  },\n});\n\nexport { actions as driversActions };\nexport { reducer as driversReducer };\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst { reducer, actions } = createSlice({\n  name: 'maintenances',\n  initialState: {\n    items: {},\n  },\n  reducers: {\n    update(state, action) {\n      action.payload.forEach((item) => state.items[item.id] = item);\n    },\n  },\n});\n\nexport { actions as maintenancesActions };\nexport { reducer as maintenancesReducer };\n","import { combineReducers, configureStore } from '@reduxjs/toolkit';\n\nimport { sessionReducer as session } from './session';\nimport { devicesReducer as devices } from './devices';\nimport { positionsReducer as positions } from './positions';\nimport { geofencesReducer as geofences } from './geofences';\nimport { groupsReducer as groups } from './groups';\nimport { driversReducer as drivers } from './drivers';\nimport { maintenancesReducer as maintenances } from './maintenances';\n\nconst reducer = combineReducers({\n  session,\n  devices,\n  positions,\n  geofences,\n  groups,\n  drivers,\n  maintenances,\n});\n\nexport { sessionActions } from './session';\nexport { devicesActions } from './devices';\nexport { positionsActions } from './positions';\nexport { geofencesActions } from './geofences';\nexport { groupsActions } from './groups';\nexport { driversActions } from './drivers';\nexport { maintenancesActions } from './maintenances';\n\nexport default configureStore({ reducer });\n","import { useEffect, useState } from 'react';\n\nexport default (key, defaultValue) => {\n  const [value, setValue] = useState(() => {\n    const stickyValue = window.localStorage.getItem(key);\n    return stickyValue ? JSON.parse(stickyValue) : defaultValue;\n  });\n\n  useEffect(() => {\n    window.localStorage.setItem(key, JSON.stringify(value));\n  }, [key, value]);\n\n  return [value, setValue];\n};\n","import React, { createContext, useContext } from 'react';\nimport usePersistedState from './common/usePersistedState';\n\nimport af from '../../web/l10n/af.json';\nimport ar from '../../web/l10n/ar.json';\nimport az from '../../web/l10n/az.json';\nimport bg from '../../web/l10n/bg.json';\nimport bn from '../../web/l10n/bn.json';\nimport cs from '../../web/l10n/cs.json';\nimport da from '../../web/l10n/da.json';\nimport de from '../../web/l10n/de.json';\nimport el from '../../web/l10n/el.json';\nimport en from '../../web/l10n/en.json';\nimport es from '../../web/l10n/es.json';\nimport fa from '../../web/l10n/fa.json';\nimport fi from '../../web/l10n/fi.json';\nimport fr from '../../web/l10n/fr.json';\nimport he from '../../web/l10n/he.json';\nimport hi from '../../web/l10n/hi.json';\nimport hr from '../../web/l10n/hr.json';\nimport hu from '../../web/l10n/hu.json';\nimport id from '../../web/l10n/id.json';\nimport it from '../../web/l10n/it.json';\nimport ja from '../../web/l10n/ja.json';\nimport ka from '../../web/l10n/ka.json';\nimport kk from '../../web/l10n/kk.json';\nimport km from '../../web/l10n/km.json';\nimport ko from '../../web/l10n/ko.json';\nimport lo from '../../web/l10n/lo.json';\nimport lt from '../../web/l10n/lt.json';\nimport lv from '../../web/l10n/lv.json';\nimport ml from '../../web/l10n/ml.json';\nimport mn from '../../web/l10n/mn.json';\nimport ms from '../../web/l10n/ms.json';\nimport nb from '../../web/l10n/nb.json';\nimport ne from '../../web/l10n/ne.json';\nimport nl from '../../web/l10n/nl.json';\nimport nn from '../../web/l10n/nn.json';\nimport pl from '../../web/l10n/pl.json';\nimport pt from '../../web/l10n/pt.json';\nimport ptBR from '../../web/l10n/pt_BR.json';\nimport ro from '../../web/l10n/ro.json';\nimport ru from '../../web/l10n/ru.json';\nimport si from '../../web/l10n/si.json';\nimport sk from '../../web/l10n/sk.json';\nimport sl from '../../web/l10n/sl.json';\nimport sq from '../../web/l10n/sq.json';\nimport sr from '../../web/l10n/sr.json';\nimport sv from '../../web/l10n/sv.json';\nimport ta from '../../web/l10n/ta.json';\nimport th from '../../web/l10n/th.json';\nimport tr from '../../web/l10n/tr.json';\nimport uk from '../../web/l10n/uk.json';\nimport uz from '../../web/l10n/uz.json';\nimport vi from '../../web/l10n/vi.json';\nimport zh from '../../web/l10n/zh.json';\nimport zhTW from '../../web/l10n/zh_TW.json';\n\nconst languages = {\n  af: { data: af, name: 'Afrikaans' },\n  ar: { data: ar, name: 'العربية' },\n  az: { data: az, name: 'Azərbaycanca' },\n  bg: { data: bg, name: 'Български' },\n  bn: { data: bn, name: 'বাংলা' },\n  cs: { data: cs, name: 'Čeština' },\n  de: { data: de, name: 'Deutsch' },\n  da: { data: da, name: 'Dansk' },\n  el: { data: el, name: 'Ελληνικά' },\n  en: { data: en, name: 'English' },\n  es: { data: es, name: 'Español' },\n  fa: { data: fa, name: 'فارسی' },\n  fi: { data: fi, name: 'Suomi' },\n  fr: { data: fr, name: 'Français' },\n  he: { data: he, name: 'עברית' },\n  hi: { data: hi, name: 'हिन्दी' },\n  hr: { data: hr, name: 'Hrvatski' },\n  hu: { data: hu, name: 'Magyar' },\n  id: { data: id, name: 'Bahasa Indonesia' },\n  it: { data: it, name: 'Italiano' },\n  ja: { data: ja, name: '日本語' },\n  ka: { data: ka, name: 'ქართული' },\n  kk: { data: kk, name: 'Қазақша' },\n  ko: { data: ko, name: '한국어' },\n  km: { data: km, name: 'ភាសាខ្មែរ' },\n  lo: { data: lo, name: 'ລາວ' },\n  lt: { data: lt, name: 'Lietuvių' },\n  lv: { data: lv, name: 'Latviešu' },\n  ml: { data: ml, name: 'മലയാളം' },\n  mn: { data: mn, name: 'Монгол хэл' },\n  ms: { data: ms, name: 'بهاس ملايو' },\n  nb: { data: nb, name: 'Norsk bokmål' },\n  ne: { data: ne, name: 'नेपाली' },\n  nl: { data: nl, name: 'Nederlands' },\n  nn: { data: nn, name: 'Norsk nynorsk' },\n  pl: { data: pl, name: 'Polski' },\n  pt: { data: pt, name: 'Português' },\n  ptBR: { data: ptBR, name: 'Português (Brasil)' },\n  ro: { data: ro, name: 'Română' },\n  ru: { data: ru, name: 'Русский' },\n  si: { data: si, name: 'සිංහල' },\n  sk: { data: sk, name: 'Slovenčina' },\n  sl: { data: sl, name: 'Slovenščina' },\n  sq: { data: sq, name: 'Shqipëria' },\n  sr: { data: sr, name: 'Srpski' },\n  sv: { data: sv, name: 'Svenska' },\n  ta: { data: ta, name: 'தமிழ்' },\n  th: { data: th, name: 'ไทย' },\n  tr: { data: tr, name: 'Türkçe' },\n  uk: { data: uk, name: 'Українська' },\n  uz: { data: uz, name: 'Oʻzbekcha' },\n  vi: { data: vi, name: 'Tiếng Việt' },\n  zh: { data: zh, name: '中文' },\n  zhTW: { data: zhTW, name: '中文 (Taiwan)' },\n};\n\nconst getDefaultLanguage = () => {\n  const browserLanguages = window.navigator.languages ? window.navigator.languages.slice() : [];\n  const browserLanguage = window.navigator.userLanguage || window.navigator.language;\n  browserLanguages.push(browserLanguage);\n  browserLanguages.push(browserLanguage.substring(0, 2));\n\n  for (let i = 0; i < browserLanguages.length; i += 1) {\n    let language = browserLanguages[i].replace('-', '');\n    if (language in languages) {\n      return language;\n    }\n    if (language.length > 2) {\n      language = language.substring(0, 2);\n      if (language in languages) {\n        return language;\n      }\n    }\n  }\n  return 'en';\n};\n\nconst LocalizationContext = createContext({\n  languages,\n  language: 'en',\n  setLanguage: () => {},\n});\n\nexport const LocalizationProvider = ({ children }) => {\n  const [language, setLanguage] = usePersistedState('language', getDefaultLanguage());\n\n  return (\n    <LocalizationContext.Provider value={{ languages, language, setLanguage }}>\n      {children}\n    </LocalizationContext.Provider>\n  );\n};\n\nexport const useLocalization = () => useContext(LocalizationContext);\n\nexport const useTranslation = () => {\n  const context = useContext(LocalizationContext);\n  const { data } = context.languages[context.language];\n  return (key) => data[key];\n};\n\nexport const useTranslationKeys = (predicate) => {\n  const context = useContext(LocalizationContext);\n  const { data } = context.languages[context.language];\n  return Object.keys(data).filter(predicate);\n};\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport { useTranslation } from './LocalizationProvider';\n\nconst RemoveDialog = ({\n  open, endpoint, itemId, onResult,\n}) => {\n  const t = useTranslation();\n\n  const handleRemove = async () => {\n    const response = await fetch(`/api/${endpoint}/${itemId}`, { method: 'DELETE' });\n    if (response.ok) {\n      onResult(true);\n    }\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={() => { onResult(false); }}\n    >\n      <DialogContent>\n        <DialogContentText>{t('sharedRemoveConfirm')}</DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button color=\"primary\" onClick={handleRemove}>{t('sharedRemove')}</Button>\n        <Button autoFocus onClick={() => onResult(false)}>{t('sharedCancel')}</Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default RemoveDialog;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from 'react-router-dom';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport { useSelector } from 'react-redux';\n\nimport RemoveDialog from './RemoveDialog';\nimport { useTranslation } from './LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  fab: {\n    position: 'fixed',\n    bottom: theme.spacing(2),\n    right: theme.spacing(2),\n  },\n}));\n\nconst EditCollectionView = ({\n  content, editPath, endpoint, disableAdd, filter,\n}) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const t = useTranslation();\n\n  const [selectedId, setSelectedId] = useState(null);\n  const [selectedAnchorEl, setSelectedAnchorEl] = useState(null);\n  const [removeDialogShown, setRemoveDialogShown] = useState(false);\n  const [updateTimestamp, setUpdateTimestamp] = useState(Date.now());\n  const adminEnabled = useSelector((state) => state.session.user && state.session.user.administrator);\n\n  const menuShow = (anchorId, itemId) => {\n    setSelectedAnchorEl(anchorId);\n    setSelectedId(itemId);\n  };\n\n  const menuHide = () => {\n    setSelectedAnchorEl(null);\n  };\n\n  const handleAdd = () => {\n    history.push(editPath);\n    menuHide();\n  };\n\n  const handleEdit = () => {\n    history.push(`${editPath}/${selectedId}`);\n    menuHide();\n  };\n\n  const handleRemove = () => {\n    setRemoveDialogShown(true);\n    menuHide();\n  };\n\n  const handleRemoveResult = () => {\n    setRemoveDialogShown(false);\n    setUpdateTimestamp(Date.now());\n  };\n\n  const Content = content;\n\n  return (\n    <>\n      <Content updateTimestamp={updateTimestamp} onMenuClick={menuShow} filter={filter} />\n      {adminEnabled && !disableAdd\n        && (\n        <Fab size=\"medium\" color=\"primary\" className={classes.fab} onClick={handleAdd}>\n          <AddIcon />\n        </Fab>\n        )}\n      <Menu open={!!selectedAnchorEl} anchorEl={selectedAnchorEl} onClose={menuHide}>\n        <MenuItem onClick={handleEdit}>{t('sharedEdit')}</MenuItem>\n        <MenuItem onClick={handleRemove}>{t('sharedRemove')}</MenuItem>\n      </Menu>\n      <RemoveDialog open={removeDialogShown} endpoint={endpoint} itemId={selectedId} onResult={handleRemoveResult} />\n    </>\n  );\n};\n\nexport default EditCollectionView;\n","import { useRef, useEffect } from 'react';\n\nexport const usePrevious = (value) => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nexport const useEffectAsync = (effect, deps) => {\n  const ref = useRef();\n  useEffect(() => {\n    effect().then((result) => ref.current = result);\n    return () => {\n      const result = ref.current;\n      if (result) {\n        result();\n      }\n    };\n // eslint-disable-next-line\n  }, deps);\n};\n","import moment from 'moment';\n\nexport const formatBoolean = (value, t) => (value ? t('sharedYes') : t('sharedNo'));\n\nexport const formatNumber = (value, precision = 1) => Number(value.toFixed(precision));\n\nexport const formatDate = (value, format = 'YYYY-MM-DD HH:mm') => moment(value).format(format);\n\nexport const formatPosition = (value, key, t) => {\n  if (value != null && typeof value === 'object') {\n    value = value[key];\n  }\n  switch (key) {\n    case 'fixTime':\n    case 'deviceTime':\n    case 'serverTime':\n    case 'eventTime':\n      return moment(value).format('LLL');\n    case 'latitude':\n    case 'longitude':\n      return value.toFixed(5);\n    case 'speed':\n    case 'course':\n      return value.toFixed(1);\n    case 'batteryLevel':\n      return `${value}%`;\n    default:\n      if (typeof value === 'number') {\n        return formatNumber(value);\n      } if (typeof value === 'boolean') {\n        return formatBoolean(value, t);\n      }\n      return value;\n  }\n};\n\nexport const formatDistance = (value, unit, t) => {\n  switch (unit) {\n    case 'mi':\n      return `${(value * 0.000621371).toFixed(2)} ${t('sharedMi')}`;\n    case 'nmi':\n      return `${(value * 0.000539957).toFixed(2)} ${t('sharedNmi')}`;\n    case 'km':\n    default:\n      return `${(value * 0.001).toFixed(2)} ${t('sharedKm')}`;\n  }\n};\n\nexport const formatSpeed = (value, unit, t) => {\n  switch (unit) {\n    case 'kmh':\n      return `${(value * 1.852).toFixed(2)} ${t('sharedKmh')}`;\n    case 'mph':\n      return `${(value * 1.15078).toFixed(2)} ${t('sharedMph')}`;\n    case 'kn':\n    default:\n      return `${(value * 1).toFixed(2)} ${t('sharedKn')}`;\n  }\n};\n\nexport const formatVolume = (value, unit, t) => {\n  switch (unit) {\n    case 'impGal':\n      return `${(value / 4.546).toFixed(2)} ${t('sharedGallonAbbreviation')}`;\n    case 'usGal':\n      return `${(value / 3.785).toFixed(2)} ${t('sharedGallonAbbreviation')}`;\n    case 'ltr':\n    default:\n      return `${(value / 1).toFixed(2)} ${t('sharedLiterAbbreviation')}`;\n  }\n};\n\nexport const formatHours = (value) => moment.duration(value).humanize();\n\nexport const formatCoordinate = (key, value, unit) => {\n  let hemisphere;\n  let degrees;\n  let minutes;\n  let seconds;\n\n  if (key === 'latitude') {\n    hemisphere = value >= 0 ? 'N' : 'S';\n  } else {\n    hemisphere = value >= 0 ? 'E' : 'W';\n  }\n\n  switch (unit) {\n    case 'ddm':\n      value = Math.abs(value);\n      degrees = Math.floor(value);\n      minutes = (value - degrees) * 60;\n      return `${degrees}° ${minutes.toFixed(6)}' ${hemisphere}`;\n    case 'dms':\n      value = Math.abs(value);\n      degrees = Math.floor(value);\n      minutes = Math.floor((value - degrees) * 60);\n      seconds = Math.round((value - degrees - minutes / 60) * 3600);\n      return `${degrees}° ${minutes}' ${seconds}\" ${hemisphere}`;\n    default:\n      return `${value.toFixed(6)}°`;\n  }\n};\n\nexport const getStatusColor = (status) => {\n  switch (status) {\n    case 'online':\n      return 'green';\n    case 'offline':\n      return 'red';\n    case 'unknown':\n    default:\n      return 'gray';\n  }\n};\n\nexport const getBatteryStatus = (batteryLevel) => {\n  if (batteryLevel >= 70) {\n    return 'green';\n  }\n  if (batteryLevel > 30) {\n    return 'gray';\n  }\n  return 'red';\n};\n","export const getIsAdmin = (state) => state.session.user?.administrator;\n\nexport const getUserId = (state) => state.session.user?.id;\n\nexport const getDevices = (state) => Object.values(state.devices.items);\n\nexport const getPosition = (id) => (state) => state.positions.items[id];\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Avatar from '@material-ui/core/Avatar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Grid from '@material-ui/core/Grid';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport SvgIcon from '@material-ui/core/SvgIcon';\nimport { FixedSizeList } from 'react-window';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport BatteryFullIcon from '@material-ui/icons/BatteryFull';\nimport { ReactComponent as IgnitionIcon } from '../public/images/ignition.svg';\n\nimport { devicesActions } from './store';\nimport EditCollectionView from './EditCollectionView';\nimport { useEffectAsync } from './reactHelper';\nimport { formatPosition } from './common/formatter';\nimport { getDevices, getPosition } from './common/selectors';\nimport { useTranslation } from './LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  list: {\n    maxHeight: '100%',\n  },\n  listInner: {\n    position: 'relative',\n    margin: theme.spacing(1.5, 0),\n  },\n  icon: {\n    width: '25px',\n    height: '25px',\n    filter: 'brightness(0) invert(1)',\n  },\n  listItem: {\n    backgroundColor: 'white',\n    '&:hover': {\n      backgroundColor: 'white',\n    },\n  },\n  batteryText: {\n    fontSize: '0.75rem',\n    fontWeight: 'normal',\n    lineHeight: '0.875rem',\n  },\n  green: {\n    color: theme.palette.common.green,\n  },\n  red: {\n    color: theme.palette.common.red,\n  },\n  gray: {\n    color: theme.palette.common.gray,\n  },\n  indicators: {\n    lineHeight: 1,\n  },\n}));\n\nconst getStatusColor = (status) => {\n  switch (status) {\n    case 'online':\n      return 'green';\n    case 'offline':\n      return 'red';\n    case 'unknown':\n    default:\n      return 'gray';\n  }\n};\n\nconst getBatteryStatus = (batteryLevel) => {\n  if (batteryLevel >= 70) {\n    return 'green';\n  }\n  if (batteryLevel > 30) {\n    return 'gray';\n  }\n  return 'red';\n};\n\nconst DeviceRow = ({ data, index, style }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const t = useTranslation();\n\n  const { items } = data;\n  const item = items[index];\n  const position = useSelector(getPosition(item.id));\n  const showIgnition = position?.attributes.hasOwnProperty('ignition') && position.attributes.ignition;\n\n  return (\n    <div style={style}>\n      <ListItem button key={item.id} className={classes.listItem} onClick={() => dispatch(devicesActions.select(item))}>\n        <ListItemAvatar>\n          <Avatar>\n            <img className={classes.icon} src={`images/icon/${item.category || 'default'}.svg`} alt=\"\" />\n          </Avatar>\n        </ListItemAvatar>\n        <ListItemText primary={item.name} secondary={item.status} classes={{ secondary: classes[getStatusColor(item.status)] }} />\n        <ListItemSecondaryAction className={classes.indicators}>\n          {position && (\n          <Grid container direction=\"row\" alignItems=\"center\" alignContent=\"center\" spacing={2}>\n            {showIgnition && (\n            <Grid item>\n              <SvgIcon component={IgnitionIcon} />\n            </Grid>\n            )}\n            {position.attributes.hasOwnProperty('batteryLevel') && (\n            <Grid item container xs alignItems=\"center\" alignContent=\"center\">\n              <Grid item>\n                <span className={classes.batteryText}>{formatPosition(position.attributes.batteryLevel, 'batteryLevel', t)}</span>\n              </Grid>\n              <Grid item>\n                <BatteryFullIcon className={classes[getBatteryStatus(position.attributes.batteryLevel)]} />\n              </Grid>\n            </Grid>\n            )}\n          </Grid>\n          )}\n        </ListItemSecondaryAction>\n      </ListItem>\n    </div>\n  );\n};\n\nconst DeviceView = ({ updateTimestamp, onMenuClick, filter }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const listInnerEl = useRef(null);\n\n  const items = useSelector(getDevices);\n  const [filteredItems, setFilteredItems] = useState(null);\n\n  useEffect(() => {\n    setFilteredItems(\n      filter.trim().length > 0\n        ? items.filter((item) => `${item.name} ${item.uniqueId}`.toLowerCase().includes(filter?.toLowerCase()))\n        : items,\n    );\n  }, [filter, items]);\n\n  if (listInnerEl.current) {\n    listInnerEl.current.className = classes.listInner;\n  }\n\n  useEffectAsync(async () => {\n    const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/devices');\n    if (response.ok) {\n      dispatch(devicesActions.refresh(await response.json()));\n    }\n  }, [updateTimestamp]);\n\n  return (\n    <AutoSizer className={classes.list}>\n      {({ height, width }) => (\n        <List disablePadding>\n          <FixedSizeList\n            width={width}\n            height={height}\n            itemCount={filteredItems.length}\n            itemData={{ items: filteredItems, onMenuClick }}\n            itemSize={72}\n            overscanCount={10}\n            innerRef={listInnerEl}\n          >\n            {DeviceRow}\n          </FixedSizeList>\n        </List>\n      )}\n    </AutoSizer>\n  );\n};\n\nconst DevicesList = ({ filter }) => (\n  <EditCollectionView content={DeviceView} editPath=\"/device\" endpoint=\"devices\" disableAdd filter={filter} />\n);\n\nexport default DevicesList;\n","export class SwitcherControl {\n\n  constructor(onBeforeSwitch, onAfterSwitch) {\n    this.onBeforeSwitch = onBeforeSwitch;\n    this.onAfterSwitch = onAfterSwitch;\n    this.onDocumentClick = this.onDocumentClick.bind(this);\n    this.styles = [];\n    this.currentStyle = null;\n  }\n\n  getDefaultPosition() {\n    return 'top-right';\n  }\n\n  updateStyles(updatedStyles, selectedStyle) {\n    this.styles = updatedStyles;\n\n    while (this.mapStyleContainer.firstChild) {\n      this.mapStyleContainer.removeChild(this.mapStyleContainer.firstChild);\n    }\n\n    let selectedStyleElement;\n\n    for (const style of this.styles) {\n      const styleElement = document.createElement('button');\n      styleElement.type = 'button';\n      styleElement.innerText = style.title;\n      styleElement.dataset.id = style.id;\n      styleElement.dataset.uri = JSON.stringify(style.uri);\n      styleElement.addEventListener('click', (event) => {\n        const { target } = event;\n        if (!target.classList.contains('active')) {\n          this.onSelectStyle(target);\n        }\n      });\n      if (style.id === selectedStyle) {\n        selectedStyleElement = styleElement;\n        styleElement.classList.add('active');\n      }\n      this.mapStyleContainer.appendChild(styleElement);\n    }\n\n    if (this.currentStyle !== selectedStyle) {\n      this.onSelectStyle(selectedStyleElement);\n    }\n  }\n\n  onSelectStyle(target) {\n    this.onBeforeSwitch();\n\n    this.map.setStyle(JSON.parse(target.dataset.uri));\n\n    this.mapStyleContainer.style.display = 'none';\n    this.styleButton.style.display = 'block';\n\n    const elements = this.mapStyleContainer.getElementsByClassName('active');\n    while (elements[0]) {\n      elements[0].classList.remove('active');\n    }\n    target.classList.add('active');\n\n    this.onAfterSwitch();\n  }\n\n  onAdd(map) {\n    this.map = map;\n    this.controlContainer = document.createElement('div');\n    this.controlContainer.classList.add('maplibregl-ctrl');\n    this.controlContainer.classList.add('maplibregl-ctrl-group');\n    this.mapStyleContainer = document.createElement('div');\n    this.styleButton = document.createElement('button');\n    this.styleButton.type = 'button';\n    this.mapStyleContainer.classList.add('maplibregl-style-list');\n    this.styleButton.classList.add('maplibregl-ctrl-icon');\n    this.styleButton.classList.add('maplibregl-style-switcher');\n    this.styleButton.addEventListener('click', () => {\n      this.styleButton.style.display = 'none';\n      this.mapStyleContainer.style.display = 'block';\n    });\n    document.addEventListener('click', this.onDocumentClick);\n    this.controlContainer.appendChild(this.styleButton);\n    this.controlContainer.appendChild(this.mapStyleContainer);\n    return this.controlContainer;\n  }\n\n  onRemove() {\n    if (!this.controlContainer || !this.controlContainer.parentNode || !this.map || !this.styleButton) {\n      return;\n    }\n    this.styleButton.removeEventListener('click', this.onDocumentClick);\n    this.controlContainer.parentNode.removeChild(this.controlContainer);\n    document.removeEventListener('click', this.onDocumentClick);\n    this.map = undefined;\n  }\n\n  onDocumentClick(event) {\n    if (this.controlContainer && !this.controlContainer.contains(event.target) && this.mapStyleContainer && this.styleButton) {\n      this.mapStyleContainer.style.display = 'none';\n      this.styleButton.style.display = 'block';\n    }\n  }\n}\n","export default [\n  'default',\n  'animal',\n  'bicycle',\n  'boat',\n  'bus',\n  'car',\n  'crane',\n  'helicopter',\n  'motorcycle',\n  'offroad',\n  'person',\n  'pickup',\n  'plane',\n  'ship',\n  'tractor',\n  'train',\n  'tram',\n  'trolleybus',\n  'truck',\n  'van',\n  'scooter',\n];\n","import { parse, stringify } from 'wellknown';\nimport circle from '@turf/circle';\n\nexport const loadImage = (url) => new Promise((imageLoaded) => {\n  const image = new Image();\n  image.onload = () => imageLoaded(image);\n  image.src = url;\n});\n\nconst canvasTintImage = (image, color) => {\n  const canvas = document.createElement('canvas');\n  canvas.width = image.width * devicePixelRatio;\n  canvas.height = image.height * devicePixelRatio;\n  canvas.style.width = `${image.width}px`;\n  canvas.style.height = `${image.height}px`;\n\n  const context = canvas.getContext('2d');\n\n  context.save();\n  context.fillStyle = color;\n  context.globalAlpha = 1;\n  context.fillRect(0, 0, canvas.width, canvas.height);\n  context.globalCompositeOperation = 'destination-atop';\n  context.globalAlpha = 1;\n  context.drawImage(image, 0, 0, canvas.width, canvas.height);\n  context.restore();\n\n  return canvas;\n};\n\nexport const prepareIcon = (background, icon, color) => {\n  const canvas = document.createElement('canvas');\n  canvas.width = background.width * devicePixelRatio;\n  canvas.height = background.height * devicePixelRatio;\n  canvas.style.width = `${background.width}px`;\n  canvas.style.height = `${background.height}px`;\n\n  const context = canvas.getContext('2d');\n  context.drawImage(background, 0, 0, canvas.width, canvas.height);\n\n  if (icon) {\n    const iconRatio = 0.5;\n    const imageWidth = canvas.width * iconRatio;\n    const imageHeight = canvas.height * iconRatio;\n    if (navigator.userAgent.indexOf('Firefox') > 0) {\n      context.drawImage(icon, (canvas.width - imageWidth) / 2, (canvas.height - imageHeight) / 2, imageWidth, imageHeight);\n    } else {\n      context.drawImage(canvasTintImage(icon, color), (canvas.width - imageWidth) / 2, (canvas.height - imageHeight) / 2, imageWidth, imageHeight);\n    }\n  }\n\n  return context.getImageData(0, 0, canvas.width, canvas.height);\n};\n\nexport const reverseCoordinates = (it) => {\n  if (!it) {\n    return it;\n  } if (Array.isArray(it)) {\n    if (it.length === 2 && !Number.isNaN(it[0]) && !Number.isNaN(it[1])) {\n      return [it[1], it[0]];\n    }\n    return it.map((it) => reverseCoordinates(it));\n  }\n  return {\n    ...it,\n    coordinates: reverseCoordinates(it.coordinates),\n  };\n};\n\nexport const geofenceToFeature = (item) => {\n  if (item.area.indexOf('CIRCLE') > -1) {\n    const coordinates = item.area.replace(/CIRCLE|\\(|\\)|,/g, ' ').trim().split(/ +/);\n    const options = { steps: 32, units: 'meters' };\n    const polygon = circle([Number(coordinates[1]), Number(coordinates[0])], Number(coordinates[2]), options);\n    return {\n      id: item.id,\n      type: 'Feature',\n      geometry: polygon.geometry,\n      properties: { name: item.name },\n    };\n  }\n  return {\n    id: item.id,\n    type: 'Feature',\n    geometry: reverseCoordinates(parse(item.area)),\n    properties: { name: item.name },\n  };\n};\n\nexport const geometryToArea = (geometry) => stringify(reverseCoordinates(geometry));\n","export const styleCustom = (url, attribution) => ({\n  version: 8,\n  sources: {\n    osm: {\n      type: 'raster',\n      tiles: [url],\n      attribution,\n      tileSize: 256,\n    },\n  },\n  glyphs: 'https://cdn.traccar.com/map/fonts/{fontstack}/{range}.pbf',\n  layers: [{\n    id: 'osm',\n    type: 'raster',\n    source: 'osm',\n  }],\n});\n\nexport const styleOsm = () => styleCustom(\n  'https://tile.openstreetmap.org/{z}/{x}/{y}.png',\n  '© <a target=\"_top\" rel=\"noopener\" href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n);\n\nexport const styleCarto = () => ({\n  version: 8,\n  sources: {\n    'raster-tiles': {\n      type: 'raster',\n      tiles: [\n        'https://a.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png',\n        'https://b.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png',\n        'https://c.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png',\n        'https://d.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}@2x.png',\n      ],\n      tileSize: 256,\n      attribution: '© <a target=\"_top\" rel=\"noopener\" href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, © <a target=\"_top\" rel=\"noopener\" href=\"https://carto.com/attribution\">CARTO</a>',\n    },\n  },\n  glyphs: 'https://cdn.traccar.com/map/fonts/{fontstack}/{range}.pbf',\n  layers: [\n    {\n      id: 'simple-tiles',\n      type: 'raster',\n      source: 'raster-tiles',\n      minzoom: 0,\n      maxzoom: 22,\n    },\n  ],\n});\n\nexport const styleMapbox = (style) => `mapbox://styles/mapbox/${style}`;\n\nexport const styleMapTiler = (style, key) => `https://api.maptiler.com/maps/${style}/style.json?key=${key}`;\n\nexport const styleLocationIq = (style, key) => `https://tiles.locationiq.com/v3/${style}/vector.json?key=${key}`;\n","import { useSelector } from 'react-redux';\n\nexport const usePreference = (key, defaultValue) => useSelector((state) => {\n  if (state.session.server.forceSettings) {\n    return state.session.server[key] || state.session.user[key] || defaultValue;\n  }\n  return state.session.user[key] || state.session.server[key] || defaultValue;\n});\n\nexport const useAttributePreference = (key, defaultValue) => useSelector((state) => {\n  if (state.session.server.forceSettings) {\n    return state.session.server.attributes[key] || state.session.user.attributes[key] || defaultValue;\n  }\n  return state.session.user.attributes[key] || state.session.server.attributes[key] || defaultValue;\n});\n","const traccarWhite = '#FFF';\nconst traccarPurple = '#333366';\nconst traccarGreen = '#4CAF50';\nconst traccarRed = '#CC2222';\nconst traccarGray = '#888888';\n\nexport default {\n  common: {\n    purple: traccarPurple,\n    green: traccarGreen,\n    red: traccarRed,\n    gray: traccarGray,\n  },\n  primary: {\n    main: traccarPurple,\n  },\n  secondary: {\n    main: traccarGreen,\n    contrastText: traccarWhite,\n  },\n  colors: {\n    red: {\n      color: traccarRed,\n    },\n    green: {\n      color: traccarGreen,\n    },\n    gray: {\n      color: traccarGray,\n    },\n  },\n};\n","import 'maplibre-gl/dist/maplibre-gl.css';\nimport './switcher/switcher.css';\nimport maplibregl from 'maplibre-gl';\nimport React, {\n  useRef, useLayoutEffect, useEffect, useState,\n} from 'react';\nimport { SwitcherControl } from './switcher/switcher';\nimport deviceCategories from '../common/deviceCategories';\nimport { prepareIcon, loadImage } from './mapUtil';\nimport {\n  styleCarto, styleLocationIq, styleMapbox, styleMapTiler, styleOsm,\n} from './mapStyles';\nimport { useAttributePreference } from '../common/preferences';\nimport palette from '../theme/palette';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst element = document.createElement('div');\nelement.style.width = '100%';\nelement.style.height = '100%';\n\nexport const map = new maplibregl.Map({\n  container: element,\n});\n\nlet ready = false;\nconst readyListeners = new Set();\n\nconst addReadyListener = (listener) => {\n  readyListeners.add(listener);\n  listener(ready);\n};\n\nconst removeReadyListener = (listener) => {\n  readyListeners.delete(listener);\n};\n\nconst updateReadyValue = (value) => {\n  ready = value;\n  readyListeners.forEach((listener) => listener(value));\n};\n\nconst initMap = async () => {\n  if (ready) return;\n  if (!map.hasImage('background')) {\n    const background = await loadImage('images/background.svg');\n    map.addImage('background', await prepareIcon(background), {\n      pixelRatio: window.devicePixelRatio,\n    });\n    await Promise.all(deviceCategories.map(async (category) => {\n      const results = [];\n      ['green', 'red', 'gray'].forEach((color) => {\n        results.push(loadImage(`images/icon/${category}.svg`).then((icon) => {\n          map.addImage(`${category}-${color}`, prepareIcon(background, icon, palette.common[color]), {\n            pixelRatio: window.devicePixelRatio,\n          });\n        }));\n      });\n      await Promise.all(results);\n    }));\n  }\n  updateReadyValue(true);\n};\n\nmap.addControl(new maplibregl.NavigationControl({\n  showCompass: false,\n}));\n\nconst switcher = new SwitcherControl(\n  () => updateReadyValue(false),\n  () => {\n    const waiting = () => {\n      if (!map.loaded()) {\n        setTimeout(waiting, 100);\n      } else {\n        initMap();\n      }\n    };\n    waiting();\n  },\n);\n\nmap.addControl(switcher);\n\nconst Map = ({ children }) => {\n  const containerEl = useRef(null);\n  const t = useTranslation();\n\n  const [mapReady, setMapReady] = useState(false);\n\n  const mapboxAccessToken = useAttributePreference('mapboxAccessToken');\n  const mapTilerKey = useAttributePreference('mapTilerKey');\n  const locationIqKey = useAttributePreference('locationIqKey', 'pk.0f147952a41c555a5b70614039fd148b');\n\n  useEffect(() => {\n    maplibregl.accessToken = mapboxAccessToken;\n  }, [mapboxAccessToken]);\n\n  useEffect(() => {\n    switcher.updateStyles([\n      { id: 'locationIqStreets', title: t('mapLocationIqStreets'), uri: styleLocationIq('streets', locationIqKey) },\n      { id: 'locationIqEarth', title: t('mapLocationIqEarth'), uri: styleLocationIq('earth', locationIqKey) },\n      { id: 'locationIqHybrid', title: t('mapLocationIqHybrid'), uri: styleLocationIq('hybrid', locationIqKey) },\n      { id: 'osm', title: t('mapOsm'), uri: styleOsm() },\n      { id: 'carto', title: t('mapCarto'), uri: styleCarto() },\n      { id: 'mapboxStreets', title: t('mapMapboxStreets'), uri: styleMapbox('streets-v11') },\n      { id: 'mapboxOutdoors', title: t('mapMapboxOutdoors'), uri: styleMapbox('outdoors-v11') },\n      { id: 'mapboxSatellite', title: t('mapMapboxSatellite'), uri: styleMapbox('satellite-v9') },\n      { id: 'mapTilerBasic', title: t('mapMapTilerBasic'), uri: styleMapTiler('basic', mapTilerKey) },\n      { id: 'mapTilerHybrid', title: t('mapMapTilerHybrid'), uri: styleMapTiler('hybrid', mapTilerKey) },\n    ], 'osm');\n // eslint-disable-next-line\n  }, [mapTilerKey]);\n\n  useEffect(() => {\n    const listener = (ready) => setMapReady(ready);\n    addReadyListener(listener);\n    return () => {\n      removeReadyListener(listener);\n    };\n  }, []);\n\n  useLayoutEffect(() => {\n    const currentEl = containerEl.current;\n    currentEl.appendChild(element);\n    map.resize();\n    return () => {\n      currentEl.removeChild(element);\n    };\n  }, [containerEl]);\n\n  return (\n    <div style={{ width: '100%', height: '100%' }} ref={containerEl}>\n      {mapReady && children}\n    </div>\n  );\n};\n\nexport default Map;\n","import { useEffect } from 'react';\n\nimport { useSelector } from 'react-redux';\nimport { map } from './Map';\n\nconst SelectedDeviceMap = () => {\n  const mapCenter = useSelector((state) => {\n    if (state.devices.selectedId) {\n      const position = state.positions.items[state.devices.selectedId] || null;\n      if (position) {\n        return { deviceId: state.devices.selectedId, position: [position.longitude, position.latitude] };\n      }\n    }\n    return null;\n  });\n\n  useEffect(() => {\n    if (mapCenter) {\n      map.easeTo({ center: mapCenter.position });\n    }\n  }, [mapCenter]);\n\n  return null;\n};\n\nexport default SelectedDeviceMap;\n","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport circle from '@turf/circle';\n\nimport { map } from './Map';\n\nconst AccuracyMap = () => {\n  const id = 'accuracy';\n\n  const positions = useSelector((state) => ({\n    type: 'FeatureCollection',\n    features: Object.values(state.positions.items).filter((position) => position.accuracy > 0).map((position) => circle([position.longitude, position.latitude], position.accuracy * 0.001)),\n  }));\n\n  useEffect(() => {\n    map.addSource(id, {\n      type: 'geojson',\n      data: {\n        type: 'FeatureCollection',\n        features: [],\n      },\n    });\n    map.addLayer({\n      source: id,\n      id,\n      type: 'fill',\n      filter: [\n        'all',\n        ['==', '$type', 'Polygon'],\n      ],\n      paint: {\n        'fill-color': '#3bb2d0',\n        'fill-outline-color': '#3bb2d0',\n        'fill-opacity': 0.25,\n      },\n    });\n\n    return () => {\n      if (map.getLayer(id)) {\n        map.removeLayer(id);\n      }\n      if (map.getSource(id)) {\n        map.removeSource(id);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    map.getSource(id).setData(positions);\n  }, [positions]);\n\n  return null;\n};\n\nexport default AccuracyMap;\n","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { map } from './Map';\nimport { geofenceToFeature } from './mapUtil';\n\nconst GeofenceMap = () => {\n  const id = 'geofences';\n\n  const geofences = useSelector((state) => Object.values(state.geofences.items));\n\n  useEffect(() => {\n    map.addSource(id, {\n      type: 'geojson',\n      data: {\n        type: 'FeatureCollection',\n        features: [],\n      },\n    });\n    map.addLayer({\n      source: id,\n      id: 'geofences-fill',\n      type: 'fill',\n      filter: [\n        'all',\n        ['==', '$type', 'Polygon'],\n      ],\n      paint: {\n        'fill-color': '#3bb2d0',\n        'fill-outline-color': '#3bb2d0',\n        'fill-opacity': 0.1,\n      },\n    });\n    map.addLayer({\n      source: id,\n      id: 'geofences-line',\n      type: 'line',\n      paint: {\n        'line-color': '#3bb2d0',\n        'line-width': 2,\n      },\n    });\n    map.addLayer({\n      source: id,\n      id: 'geofences-title',\n      type: 'symbol',\n      layout: {\n        'text-field': '{name}',\n        'text-font': ['Roboto Regular'],\n        'text-size': 12,\n      },\n      paint: {\n        'text-halo-color': 'white',\n        'text-halo-width': 1,\n      },\n    });\n\n    return () => {\n      if (map.getLayer('geofences-fill')) {\n        map.removeLayer('geofences-fill');\n      }\n      if (map.getLayer('geofences-line')) {\n        map.removeLayer('geofences-line');\n      }\n      if (map.getLayer('geofences-title')) {\n        map.removeLayer('geofences-title');\n      }\n      if (map.getSource(id)) {\n        map.removeSource(id);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    map.getSource(id).setData({\n      type: 'FeatureCollection',\n      features: geofences.map(geofenceToFeature),\n    });\n  }, [geofences]);\n\n  return null;\n};\n\nexport default GeofenceMap;\n","import React, { useState } from 'react';\nimport {\n  makeStyles, Paper, IconButton, Grid, Button,\n} from '@material-ui/core';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { useSelector } from 'react-redux';\n\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport {\n  formatPosition, getStatusColor, getBatteryStatus, formatDistance, formatSpeed,\n} from '../common/formatter';\nimport { useAttributePreference } from '../common/preferences';\nimport RemoveDialog from '../RemoveDialog';\nimport { getPosition } from '../common/selectors';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    width: '300px',\n  },\n  ...theme.palette.colors,\n  listItemContainer: {\n    maxWidth: '240px',\n  },\n}));\n\nconst StatusView = ({\n  deviceId, onShowDetails, onShowHistory, onEditClick,\n}) => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const [removeDialogShown, setRemoveDialogShown] = useState(false);\n  const device = useSelector((state) => state.devices.items[deviceId]);\n  const position = useSelector(getPosition(deviceId));\n\n  const distanceUnit = useAttributePreference('distanceUnit');\n  const speedUnit = useAttributePreference('speedUnit');\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    onShowDetails(position.id);\n  };\n\n  const handleEditClick = (e) => {\n    e.preventDefault();\n    onEditClick(deviceId);\n  };\n\n  const handleRemove = () => {\n    setRemoveDialogShown(true);\n  };\n\n  const handleRemoveResult = () => {\n    setRemoveDialogShown(false);\n  };\n\n  return (\n    <>\n      <Paper className={classes.paper} elevation={0} square>\n        <Grid container direction=\"column\">\n          <Grid item>\n            <List>\n              <ListItem classes={{ container: classes.listItemContainer }}>\n                <ListItemText primary={t('deviceStatus')} />\n                <ListItemSecondaryAction>\n                  <span className={classes[getStatusColor(device.status)]}>{device.status}</span>\n                </ListItemSecondaryAction>\n              </ListItem>\n              <ListItem classes={{ container: classes.listItemContainer }}>\n                <ListItemText primary={t('positionSpeed')} />\n                <ListItemSecondaryAction>\n                  {formatSpeed(position.speed, speedUnit, t)}\n                </ListItemSecondaryAction>\n              </ListItem>\n              {position.attributes.batteryLevel && (\n                <ListItem classes={{ container: classes.listItemContainer }}>\n                  <ListItemText primary={t('positionBattery')} />\n                  <ListItemSecondaryAction>\n                    <span className={classes[getBatteryStatus(position.attributes.batteryLevel)]}>\n                      {formatPosition(position.attributes.batteryLevel, 'batteryLevel', t)}\n                    </span>\n                  </ListItemSecondaryAction>\n                </ListItem>\n              )}\n              <ListItem classes={{ container: classes.listItemContainer }}>\n                <ListItemText primary={t('positionDistance')} />\n                <ListItemSecondaryAction>\n                  {formatDistance(position.attributes.totalDistance, distanceUnit, t)}\n                </ListItemSecondaryAction>\n              </ListItem>\n              <ListItem classes={{ container: classes.listItemContainer }}>\n                <ListItemText primary={t('positionCourse')} />\n                <ListItemSecondaryAction>\n                  {formatPosition(position.course, 'course', t)}\n                </ListItemSecondaryAction>\n              </ListItem>\n            </List>\n          </Grid>\n          <Grid item container>\n            <Grid item>\n              <Button color=\"secondary\" onClick={handleClick}>More Info</Button>\n            </Grid>\n            <Grid item>\n              <IconButton onClick={onShowHistory}>\n                <ReplayIcon />\n              </IconButton>\n            </Grid>\n            <Grid item>\n              <IconButton>\n                <ExitToAppIcon />\n              </IconButton>\n            </Grid>\n            <Grid item>\n              <IconButton onClick={handleEditClick}>\n                <EditIcon />\n              </IconButton>\n            </Grid>\n            <Grid item>\n              <IconButton onClick={handleRemove} className={classes.red}>\n                <DeleteIcon />\n              </IconButton>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Paper>\n      <RemoveDialog open={removeDialogShown} endpoint=\"devices\" itemId={deviceId} onResult={handleRemoveResult} />\n    </>\n  );\n};\n\nexport default StatusView;\n","export default {\n  inputHeight: '42px',\n  borderRadius: '4px',\n  sidebarWidth: '28%',\n  sidebarWidthTablet: '52px',\n  drawerWidthDesktop: '360px',\n  drawerWidthTablet: '320px',\n  columnWidthDate: 160,\n  columnWidthNumber: 130,\n  columnWidthString: 160,\n  columnWidthBoolean: 130,\n};\n","import dimensions from './dimensions';\n\nexport default {\n  MuiFormControl: {\n    root: {\n      marginTop: 5,\n      marginBottom: 5,\n    },\n  },\n  MuiInputLabel: {\n    filled: {\n      transform: 'translate(12px, 14px) scale(1)',\n      '&$shrink': {\n        transform: 'translate(12px, -14px) scale(0.72)',\n      },\n    },\n  },\n  MuiFilledInput: {\n    root: {\n      height: dimensions.inputHeight,\n      borderRadius: dimensions.borderRadius,\n      backgroundColor: 'rgba(0, 0, 0, 0.035)',\n    },\n    input: {\n      height: dimensions.inputHeight,\n      borderRadius: dimensions.borderRadius,\n      paddingTop: '11.5px',\n      paddingBottom: '11.5px',\n      boxSizing: 'border-box',\n      '&:-webkit-autofill': {\n        WebkitBoxShadow: '0 0 0 100px #eeeeee inset',\n      },\n    },\n    underline: {\n      '&:before': {\n        borderBottom: 'none',\n      },\n      '&:after': {\n        borderBottom: 'none',\n      },\n      '&:hover:before': {\n        borderBottom: 'none',\n      },\n    },\n  },\n  MuiSelect: {\n    select: {\n      borderRadius: dimensions.borderRadius,\n      '&&:focus': {\n        borderRadius: dimensions.borderRadius,\n      },\n    },\n  },\n  MuiButton: {\n    root: {\n      height: dimensions.inputHeight,\n      marginTop: 5,\n      marginBottom: 5,\n      '&$disabled': {\n        opacity: 0.4,\n        color: undefined,\n      },\n    },\n    contained: {\n      '&$disabled': {\n        opacity: 0.4,\n        color: undefined,\n        backgroundColor: undefined,\n      },\n    },\n  },\n  MuiFormHelperText: {\n    root: {\n      marginBottom: -10,\n    },\n    contained: {\n      marginLeft: 12,\n    },\n  },\n  MuiAutocomplete: {\n    inputRoot: {\n      '&.MuiFilledInput-root': {\n        paddingTop: 0,\n      },\n    },\n  },\n};\n","import { createTheme } from '@material-ui/core/styles';\nimport palette from './palette';\nimport overrides from './overrides';\nimport dimensions from './dimensions';\n\nconst theme = createTheme({\n  palette,\n  overrides,\n  dimensions,\n});\n\nexport default theme;\n","import React, { useCallback, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport maplibregl from 'maplibre-gl';\nimport { Provider, useSelector } from 'react-redux';\n\nimport { useHistory } from 'react-router-dom';\nimport { map } from './Map';\nimport store from '../store';\nimport StatusView from './StatusView';\nimport theme from '../theme';\n\nconst PositionsMap = ({ positions }) => {\n  const id = 'positions';\n  const clusters = `${id}-clusters`;\n\n  const history = useHistory();\n  const devices = useSelector((state) => state.devices.items);\n\n  const deviceColor = (device) => {\n    switch (device.status) {\n      case 'online':\n        return 'green';\n      case 'offline':\n        return 'red';\n      default:\n        return 'gray';\n    }\n  };\n\n  const createFeature = (devices, position) => {\n    const device = devices[position.deviceId];\n    return {\n      deviceId: position.deviceId,\n      name: device.name,\n      category: device.category || 'default',\n      color: deviceColor(device),\n    };\n  };\n\n  const onMouseEnter = () => map.getCanvas().style.cursor = 'pointer';\n  const onMouseLeave = () => map.getCanvas().style.cursor = '';\n\n  const onMarkerClick = useCallback((event) => {\n    const feature = event.features[0];\n    const coordinates = feature.geometry.coordinates.slice();\n    while (Math.abs(event.lngLat.lng - coordinates[0]) > 180) {\n      coordinates[0] += event.lngLat.lng > coordinates[0] ? 360 : -360;\n    }\n\n    const placeholder = document.createElement('div');\n    ReactDOM.render(\n      <Provider store={store}>\n        <ThemeProvider theme={theme}>\n          <StatusView\n            deviceId={feature.properties.deviceId}\n            onShowDetails={(positionId) => history.push(`/position/${positionId}`)}\n            onShowHistory={() => history.push('/replay')}\n            onEditClick={(deviceId) => history.push(`/device/${deviceId}`)}\n          />\n        </ThemeProvider>\n      </Provider>,\n      placeholder,\n    );\n\n    new maplibregl.Popup({\n      offset: 25,\n      anchor: 'top',\n    })\n      .setDOMContent(placeholder)\n      .setLngLat(coordinates)\n      .addTo(map);\n  }, [history]);\n\n  const onClusterClick = (event) => {\n    const features = map.queryRenderedFeatures(event.point, {\n      layers: [clusters],\n    });\n    const clusterId = features[0].properties.cluster_id;\n    map.getSource(id).getClusterExpansionZoom(clusterId, (error, zoom) => {\n      if (!error) {\n        map.easeTo({\n          center: features[0].geometry.coordinates,\n          zoom,\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    map.addSource(id, {\n      type: 'geojson',\n      data: {\n        type: 'FeatureCollection',\n        features: [],\n      },\n      cluster: true,\n      clusterMaxZoom: 14,\n      clusterRadius: 50,\n    });\n    map.addLayer({\n      id,\n      type: 'symbol',\n      source: id,\n      filter: ['!', ['has', 'point_count']],\n      layout: {\n        'icon-image': '{category}-{color}',\n        'icon-allow-overlap': true,\n        'text-field': '{name}',\n        'text-allow-overlap': true,\n        'text-anchor': 'bottom',\n        'text-offset': [0, -2],\n        'text-font': ['Roboto Regular'],\n        'text-size': 12,\n      },\n      paint: {\n        'text-halo-color': 'white',\n        'text-halo-width': 1,\n      },\n    });\n    map.addLayer({\n      id: clusters,\n      type: 'symbol',\n      source: id,\n      filter: ['has', 'point_count'],\n      layout: {\n        'icon-image': 'background',\n        'text-field': '{point_count_abbreviated}',\n        'text-font': ['Roboto Regular'],\n        'text-size': 14,\n      },\n    });\n\n    map.on('mouseenter', id, onMouseEnter);\n    map.on('mouseleave', id, onMouseLeave);\n    map.on('mouseenter', clusters, onMouseEnter);\n    map.on('mouseleave', clusters, onMouseLeave);\n    map.on('click', id, onMarkerClick);\n    map.on('click', clusters, onClusterClick);\n\n    return () => {\n      Array.from(map.getContainer().getElementsByClassName('maplibregl-popup')).forEach((el) => el.remove());\n\n      map.off('mouseenter', id, onMouseEnter);\n      map.off('mouseleave', id, onMouseLeave);\n      map.off('mouseenter', clusters, onMouseEnter);\n      map.off('mouseleave', clusters, onMouseLeave);\n      map.off('click', id, onMarkerClick);\n      map.off('click', clusters, onClusterClick);\n\n      if (map.getLayer(id)) {\n        map.removeLayer(id);\n      }\n      if (map.getLayer(clusters)) {\n        map.removeLayer(clusters);\n      }\n      if (map.getSource(id)) {\n        map.removeSource(id);\n      }\n    };\n // eslint-disable-next-line\n  }, [onMarkerClick]);\n\n  useEffect(() => {\n    map.getSource(id).setData({\n      type: 'FeatureCollection',\n      features: positions.filter((it) => devices.hasOwnProperty(it.deviceId)).map((position) => ({\n        type: 'Feature',\n        geometry: {\n          type: 'Point',\n          coordinates: [position.longitude, position.latitude],\n        },\n        properties: createFeature(devices, position),\n      })),\n    });\n // eslint-disable-next-line\n  }, [devices, positions]);\n\n  return null;\n};\n\nexport default PositionsMap;\n","import React, { } from 'react';\nimport { useSelector } from 'react-redux';\n\nimport PositionsMap from './PositionsMap';\n\nconst CurrentPositionsMap = () => {\n  const positions = useSelector((state) => Object.values(state.positions.items));\n  return (<PositionsMap positions={positions} />);\n};\n\nexport default CurrentPositionsMap;\n","import maplibregl from 'maplibre-gl';\nimport { useEffect } from 'react';\nimport { map } from './Map';\n\nconst CurrentLocationMap = () => {\n  useEffect(() => {\n    const control = new maplibregl.GeolocateControl({\n      positionOptions: {\n        enableHighAccuracy: true,\n        timeout: 5000,\n      },\n      trackUserLocation: true,\n    });\n    map.addControl(control);\n    return () => map.removeControl(control);\n  }, []);\n\n  return null;\n};\n\nexport default CurrentLocationMap;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport {\n  makeStyles, Paper, BottomNavigation, BottomNavigationAction,\n} from '@material-ui/core';\n\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport ShuffleIcon from '@material-ui/icons/Shuffle';\nimport MapIcon from '@material-ui/icons/Map';\nimport LogoutIcon from '@material-ui/icons/ExitToApp';\n\nimport { sessionActions } from '../store';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    bottom: theme.spacing(0),\n    left: '0px',\n    width: '100%',\n    position: 'fixed',\n    zIndex: 1301,\n    [theme.breakpoints.up('lg')]: {\n      left: theme.spacing(1.5),\n      bottom: theme.spacing(1.5),\n      width: theme.dimensions.drawerWidthDesktop,\n    },\n  },\n}));\n\nconst BottomMenu = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const t = useTranslation();\n\n  const dispatch = useDispatch();\n\n  const handleSelection = async (_, value) => {\n    switch (value) {\n      case 1:\n        history.push('/reports/route');\n        break;\n      case 2:\n        history.push('/settings/notifications');\n        break;\n      case 3:\n        await fetch('${process.env.REACT_APP_URL_NAME}/api/session', { method: 'DELETE' });\n        history.push('/login');\n        dispatch(sessionActions.updateUser(null));\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <Paper square elevation={3} className={classes.container}>\n      <BottomNavigation\n        value={0}\n        onChange={handleSelection}\n        showLabels\n      >\n        <BottomNavigationAction label={t('mapTitle')} icon={<MapIcon />} />\n        <BottomNavigationAction label={t('reportTitle')} icon={<DescriptionIcon />} />\n        <BottomNavigationAction label={t('settingsTitle')} icon={<ShuffleIcon />} />\n        <BottomNavigationAction label={t('loginLogout')} icon={<LogoutIcon />} />\n      </BottomNavigation>\n    </Paper>\n  );\n};\n\nexport default BottomMenu;\n","import { useEffect, useState } from 'react';\nimport { kml } from '@tmcw/togeojson';\n\nimport { map } from './Map';\nimport { useEffectAsync } from '../reactHelper';\nimport { usePreference } from '../common/preferences';\n\nconst PoiMap = () => {\n  const id = 'poi';\n\n  const poiLayer = usePreference('poiLayer');\n\n  const [data, setData] = useState(null);\n\n  useEffectAsync(async () => {\n    if (poiLayer) {\n      const file = await fetch(poiLayer);\n      const dom = new DOMParser().parseFromString(await file.text(), 'text/xml');\n      setData(kml(dom));\n    }\n  }, [poiLayer]);\n\n  useEffect(() => {\n    if (data) {\n      map.addSource(id, {\n        type: 'geojson',\n        data,\n      });\n      map.addLayer({\n        source: id,\n        id: 'poi-point',\n        type: 'circle',\n        paint: {\n          'circle-radius': 5,\n          'circle-color': '#3bb2d0',\n        },\n      });\n      map.addLayer({\n        source: id,\n        id: 'poi-title',\n        type: 'symbol',\n        layout: {\n          'text-field': '{name}',\n          'text-anchor': 'bottom',\n          'text-offset': [0, -0.5],\n          'text-font': ['Roboto Regular'],\n          'text-size': 12,\n        },\n        paint: {\n          'text-halo-color': 'white',\n          'text-halo-width': 1,\n        },\n      });\n      return () => {\n        if (map.getLayer('poi-point')) {\n          map.removeLayer('poi-point');\n        }\n        if (map.getLayer('poi-title')) {\n          map.removeLayer('poi-title');\n        }\n        if (map.getSource(id)) {\n          map.removeSource(id);\n        }\n      };\n    }\n    return null;\n  }, [data]);\n\n  return null;\n};\n\nexport default PoiMap;\n","import { useEffect } from 'react';\n\nimport { map } from './Map';\n\nconst MapPadding = ({\n  top, right, bottom, left,\n}) => {\n  useEffect(() => {\n    map.setPadding({\n      top, right, bottom, left,\n    });\n    return () => map.setPadding({\n      top: 0, right: 0, bottom: 0, left: 0,\n    });\n  }, [top, right, bottom, left]);\n\n  return null;\n};\n\nexport default MapPadding;\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  makeStyles, Paper, Toolbar, TextField, IconButton, Button,\n} from '@material-ui/core';\n\nimport { useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport AddIcon from '@material-ui/icons/Add';\nimport CloseIcon from '@material-ui/icons/Close';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport ListIcon from '@material-ui/icons/ViewList';\n\nimport DevicesList from './DevicesList';\nimport Map from './map/Map';\nimport SelectedDeviceMap from './map/SelectedDeviceMap';\nimport AccuracyMap from './map/AccuracyMap';\nimport GeofenceMap from './map/GeofenceMap';\nimport CurrentPositionsMap from './map/CurrentPositionsMap';\nimport CurrentLocationMap from './map/CurrentLocationMap';\nimport BottomMenu from './components/BottomMenu';\nimport { useTranslation } from './LocalizationProvider';\nimport PoiMap from './map/PoiMap';\nimport MapPadding from './map/MapPadding';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  sidebar: {\n    display: 'flex',\n    flexDirection: 'column',\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    margin: theme.spacing(1.5),\n    width: theme.dimensions.drawerWidthDesktop,\n    bottom: 56,\n    zIndex: 1301,\n    transition: 'transform .5s ease',\n    backgroundColor: 'white',\n    [theme.breakpoints.down('md')]: {\n      width: '100%',\n      margin: 0,\n    },\n  },\n  sidebarCollapsed: {\n    transform: `translateX(-${theme.dimensions.drawerWidthDesktop})`,\n    marginLeft: 0,\n    [theme.breakpoints.down('md')]: {\n      transform: 'translateX(-100vw)',\n    },\n  },\n  paper: {\n    zIndex: 1,\n  },\n  toolbar: {\n    display: 'flex',\n    padding: theme.spacing(0, 1),\n    '& > *': {\n      margin: theme.spacing(0, 1),\n    },\n  },\n  deviceList: {\n    flex: 1,\n  },\n  sidebarToggle: {\n    position: 'absolute',\n    left: theme.spacing(1.5),\n    top: theme.spacing(3),\n    borderRadius: '0px',\n    minWidth: 0,\n    [theme.breakpoints.down('md')]: {\n      left: 0,\n    },\n  },\n  sidebarToggleText: {\n    marginLeft: theme.spacing(1),\n    [theme.breakpoints.only('xs')]: {\n      display: 'none',\n    },\n  },\n  sidebarToggleBg: {\n    backgroundColor: 'white',\n    color: '#777777',\n    '&:hover': {\n      backgroundColor: 'white',\n    },\n  },\n}));\n\nconst MainPage = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const theme = useTheme();\n  const t = useTranslation();\n\n  const isTablet = useMediaQuery(theme.breakpoints.down('md'));\n  const isPhone = useMediaQuery(theme.breakpoints.down('xs'));\n\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [collapsed, setCollapsed] = useState(false);\n\n  const handleClose = () => {\n    setCollapsed(!collapsed);\n  };\n\n  useEffect(() => setCollapsed(isTablet), [isTablet]);\n\n  return (\n    <div className={classes.root}>\n      <Map>\n        {!isTablet && <MapPadding left={parseInt(theme.dimensions.drawerWidthDesktop, 10)} />}\n        <CurrentLocationMap />\n        <GeofenceMap />\n        <AccuracyMap />\n        <CurrentPositionsMap />\n        <SelectedDeviceMap />\n        <PoiMap />\n      </Map>\n      <Button\n        variant=\"contained\"\n        color={isPhone ? 'secondary' : 'primary'}\n        classes={{ containedPrimary: classes.sidebarToggleBg }}\n        className={classes.sidebarToggle}\n        onClick={handleClose}\n        disableElevation\n      >\n        <ListIcon />\n        <div className={classes.sidebarToggleText}>{t('deviceTitle')}</div>\n      </Button>\n      <Paper square elevation={3} className={`${classes.sidebar} ${collapsed && classes.sidebarCollapsed}`}>\n        <Paper className={classes.paper} square elevation={3}>\n          <Toolbar className={classes.toolbar} disableGutters>\n            {isTablet && (\n            <IconButton onClick={handleClose}>\n              <ArrowBackIcon />\n            </IconButton>\n            )}\n            <TextField\n              fullWidth\n              name=\"searchKeyword\"\n              value={searchKeyword}\n              autoComplete=\"searchKeyword\"\n              autoFocus\n              onChange={(event) => setSearchKeyword(event.target.value)}\n              placeholder={t('sharedSearchDevices')}\n              variant=\"filled\"\n            />\n            <IconButton onClick={() => history.push('/device')}>\n              <AddIcon />\n            </IconButton>\n            {!isTablet && (\n            <IconButton onClick={handleClose}>\n              <CloseIcon />\n            </IconButton>\n            )}\n          </Toolbar>\n        </Paper>\n        <div className={classes.deviceList}>\n          <DevicesList filter={searchKeyword} />\n        </div>\n      </Paper>\n      <BottomMenu />\n    </div>\n  );\n};\n\nexport default MainPage;\n","import React, { useState } from 'react';\nimport {\n  FormControl, InputLabel, Select, MenuItem, Button, TextField, Grid, Typography,\n} from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport moment from 'moment';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst ReportFilter = ({ children, handleSubmit, showOnly }) => {\n  const t = useTranslation();\n\n  const devices = useSelector((state) => Object.values(state.devices.items));\n  const [deviceId, setDeviceId] = useState();\n  const [period, setPeriod] = useState('today');\n  const [from, setFrom] = useState(moment().subtract(1, 'hour'));\n  const [to, setTo] = useState(moment());\n\n  const handleClick = (mail, json) => {\n    let selectedFrom;\n    let selectedTo;\n    switch (period) {\n      case 'today':\n        selectedFrom = moment().startOf('day');\n        selectedTo = moment().endOf('day');\n        break;\n      case 'yesterday':\n        selectedFrom = moment().subtract(1, 'day').startOf('day');\n        selectedTo = moment().subtract(1, 'day').endOf('day');\n        break;\n      case 'thisWeek':\n        selectedFrom = moment().startOf('week');\n        selectedTo = moment().endOf('week');\n        break;\n      case 'previousWeek':\n        selectedFrom = moment().subtract(1, 'week').startOf('week');\n        selectedTo = moment().subtract(1, 'week').endOf('week');\n        break;\n      case 'thisMonth':\n        selectedFrom = moment().startOf('month');\n        selectedTo = moment().endOf('month');\n        break;\n      case 'previousMonth':\n        selectedFrom = moment().subtract(1, 'month').startOf('month');\n        selectedTo = moment().subtract(1, 'month').endOf('month');\n        break;\n      default:\n        selectedFrom = from;\n        selectedTo = to;\n        break;\n    }\n\n    const accept = json ? 'application/json' : 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\n    handleSubmit(\n      deviceId,\n      selectedFrom.toISOString(),\n      selectedTo.toISOString(),\n      mail,\n      { Accept: accept },\n    );\n  };\n\n  return (\n    <Grid container spacing={2} justifyContent=\"flex-end\">\n      <Grid item xs={12} sm={period === 'custom' ? 3 : 6}>\n        <FormControl variant=\"filled\" fullWidth>\n          <InputLabel>{t('reportDevice')}</InputLabel>\n          <Select value={deviceId} onChange={(e) => setDeviceId(e.target.value)}>\n            {devices.map((device) => (\n              <MenuItem key={device.id} value={device.id}>{device.name}</MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n      </Grid>\n      <Grid item xs={12} sm={period === 'custom' ? 3 : 6}>\n        <FormControl variant=\"filled\" fullWidth>\n          <InputLabel>{t('reportPeriod')}</InputLabel>\n          <Select value={period} onChange={(e) => setPeriod(e.target.value)}>\n            <MenuItem value=\"today\">{t('reportToday')}</MenuItem>\n            <MenuItem value=\"yesterday\">{t('reportYesterday')}</MenuItem>\n            <MenuItem value=\"thisWeek\">{t('reportThisWeek')}</MenuItem>\n            <MenuItem value=\"previousWeek\">{t('reportPreviousWeek')}</MenuItem>\n            <MenuItem value=\"thisMonth\">{t('reportThisMonth')}</MenuItem>\n            <MenuItem value=\"previousMonth\">{t('reportPreviousMonth')}</MenuItem>\n            <MenuItem value=\"custom\">{t('reportCustom')}</MenuItem>\n          </Select>\n        </FormControl>\n      </Grid>\n      {period === 'custom' && (\n      <Grid item xs={12} sm={3}>\n        <TextField\n          variant=\"filled\"\n          label={t('reportFrom')}\n          type=\"datetime-local\"\n          value={from.format(moment.HTML5_FMT.DATETIME_LOCAL)}\n          onChange={(e) => setFrom(moment(e.target.value, moment.HTML5_FMT.DATETIME_LOCAL))}\n          fullWidth\n        />\n      </Grid>\n      )}\n      {period === 'custom' && (\n      <Grid item xs={12} sm={3}>\n        <TextField\n          variant=\"filled\"\n          label={t('reportTo')}\n          type=\"datetime-local\"\n          value={to.format(moment.HTML5_FMT.DATETIME_LOCAL)}\n          onChange={(e) => setTo(moment(e.target.value, moment.HTML5_FMT.DATETIME_LOCAL))}\n          fullWidth\n        />\n      </Grid>\n      )}\n      {children}\n      <Grid item xs={!showOnly ? 4 : 12} sm={!showOnly ? 2 : 6}>\n        <Button\n          onClick={() => handleClick(false, true)}\n          variant=\"outlined\"\n          color=\"secondary\"\n          fullWidth\n        >\n          {t('reportShow')}\n        </Button>\n      </Grid>\n      {!showOnly\n        && (\n        <Grid item xs={4} sm={2}>\n          <Button\n            onClick={() => handleClick(false, false)}\n            variant=\"outlined\"\n            color=\"secondary\"\n            fullWidth\n          >\n            {t('reportExport')}\n          </Button>\n        </Grid>\n        )}\n      {!showOnly\n        && (\n        <Grid item xs={4} sm={2}>\n          <Button\n            onClick={() => handleClick(true, false)}\n            variant=\"outlined\"\n            color=\"secondary\"\n            fullWidth\n          >\n            <Typography variant=\"button\" noWrap>{t('reportEmail')}</Typography>\n          </Button>\n        </Grid>\n        )}\n    </Grid>\n  );\n};\n\nexport default ReportFilter;\n","import React from 'react';\nimport {\n  List, ListItem, ListItemText, ListItemIcon, Divider, ListSubheader,\n} from '@material-ui/core';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst SideNav = ({ routes }) => {\n  const location = useLocation();\n\n  return (\n    <List disablePadding style={{ paddingTop: '16px' }}>\n      {routes.map((route) => (route.subheader ? (\n        <>\n          <Divider />\n          <ListSubheader>{route.subheader}</ListSubheader>\n        </>\n      ) : (\n        <ListItem\n          disableRipple\n          component={Link}\n          key={route.href || route.subheader}\n          button\n          to={route.href}\n          selected={location.pathname.match(route.match || route.href) !== null}\n        >\n          <ListItemIcon>{route.icon}</ListItemIcon>\n          <ListItemText primary={route.name} />\n        </ListItem>\n      )))}\n    </List>\n  );\n};\n\nexport default SideNav;\n","import React from 'react';\nimport {\n  AppBar, Toolbar, Typography, IconButton,\n} from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\n\nconst Navbar = ({ setOpenDrawer, title }) => (\n  <AppBar position=\"fixed\" color=\"inherit\">\n    <Toolbar>\n      <IconButton\n        color=\"inherit\"\n        aria-label=\"open drawer\"\n        edge=\"start\"\n        onClick={() => setOpenDrawer(true)}\n      >\n        <MenuIcon />\n      </IconButton>\n      <Typography variant=\"h6\" noWrap>\n        {title}\n      </Typography>\n    </Toolbar>\n  </AppBar>\n);\n\nexport default Navbar;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport {\n  Grid, Typography, Divider, Drawer, makeStyles, IconButton, Hidden,\n} from '@material-ui/core';\nimport TimelineIcon from '@material-ui/icons/Timeline';\nimport PauseCircleFilledIcon from '@material-ui/icons/PauseCircleFilled';\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\nimport NotificationsActiveIcon from '@material-ui/icons/NotificationsActive';\nimport FormatListBulletedIcon from '@material-ui/icons/FormatListBulleted';\nimport TrendingUpIcon from '@material-ui/icons/TrendingUp';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\nimport SideNav from '../components/SideNav';\nimport NavBar from '../components/NavBar';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    height: '100%',\n  },\n  drawerContainer: {\n    width: theme.dimensions.drawerWidthDesktop,\n  },\n  drawer: {\n    width: theme.dimensions.drawerWidthDesktop,\n    [theme.breakpoints.down('md')]: {\n      width: theme.dimensions.drawerWidthTablet,\n    },\n  },\n  content: {\n    flex: 1,\n    padding: theme.spacing(5, 3, 3, 3),\n  },\n  drawerHeader: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n  },\n  backArrowIconContainer: {\n    '&:hover': {\n      backgroundColor: 'transparent',\n    },\n  },\n  toolbar: {\n    [theme.breakpoints.down('md')]: {\n      ...theme.mixins.toolbar,\n    },\n  },\n}));\n\nconst ReportLayout = ({ children, filter }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const location = useLocation();\n  const t = useTranslation();\n\n  const [openDrawer, setOpenDrawer] = useState(false);\n  const [reportTitle, setReportTitle] = useState();\n\n  const routes = useMemo(() => [\n    { name: t('reportRoute'), href: '/reports/route', icon: <TimelineIcon /> },\n    { name: t('reportEvents'), href: '/reports/event', icon: <NotificationsActiveIcon /> },\n    { name: t('reportTrips'), href: '/reports/trip', icon: <PlayCircleFilledIcon /> },\n    { name: t('reportStops'), href: '/reports/stop', icon: <PauseCircleFilledIcon /> },\n    { name: t('reportSummary'), href: '/reports/summary', icon: <FormatListBulletedIcon /> },\n    { name: t('reportChart'), href: '/reports/chart', icon: <TrendingUpIcon /> },\n  ], [t]);\n\n  useEffect(() => {\n    routes.forEach((route) => {\n      switch (location.pathname) {\n        case `${route.href}`:\n          setReportTitle(route.name);\n          break;\n        default:\n          break;\n      }\n    });\n // eslint-disable-next-line\n  }, [location]);\n\n  const pageTitle = `${t('reportTitle')} / ${reportTitle}`;\n\n  return (\n    <div className={classes.root}>\n      <Hidden only={['lg', 'xl']}>\n        <NavBar setOpenDrawer={setOpenDrawer} title={pageTitle} />\n        <Drawer\n          variant=\"temporary\"\n          open={openDrawer}\n          onClose={() => setOpenDrawer(!openDrawer)}\n          classes={{ paper: classes.drawer }}\n        >\n          <SideNav routes={routes} />\n        </Drawer>\n      </Hidden>\n      <Hidden only={['xs', 'sm', 'md']}>\n        <Drawer\n          variant=\"permanent\"\n          classes={{ root: classes.drawerContainer, paper: classes.drawer }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton onClick={() => history.push('/')}>\n              <ArrowBackIcon />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\" noWrap>\n              {t('reportTitle')}\n            </Typography>\n          </div>\n          <Divider />\n          <SideNav routes={routes} />\n        </Drawer>\n      </Hidden>\n      <div className={classes.content}>\n        <div className={classes.toolbar} />\n        <Grid container direction=\"column\" spacing={2}>\n          <Grid item>{filter}</Grid>\n          <Grid item>{children}</Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default ReportLayout;\n","import React, { useState } from 'react';\nimport { Paper } from '@material-ui/core';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { useTheme } from '@material-ui/core/styles';\nimport {\n  formatDistance, formatSpeed, formatBoolean, formatDate, formatCoordinate,\n} from '../common/formatter';\nimport ReportFilter from './ReportFilter';\nimport ReportLayout from './ReportLayout';\nimport { useAttributePreference, usePreference } from '../common/preferences';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst Filter = ({ setItems }) => {\n  const handleSubmit = async (deviceId, from, to, mail, headers) => {\n    const query = new URLSearchParams({\n      deviceId, from, to, mail,\n    });\n    const response = await fetch(`/api/reports/route?${query.toString()}`, { headers });\n    if (response.ok) {\n      const contentType = response.headers.get('content-type');\n      if (contentType) {\n        if (contentType === 'application/json') {\n          setItems(await response.json());\n        } else {\n          window.location.assign(window.URL.createObjectURL(await response.blob()));\n        }\n      }\n    }\n  };\n\n  return <ReportFilter handleSubmit={handleSubmit} />;\n};\n\nconst RouteReportPage = () => {\n  const theme = useTheme();\n  const t = useTranslation();\n\n  const distanceUnit = useAttributePreference('distanceUnit');\n  const speedUnit = useAttributePreference('speedUnit');\n  const coordinateFormat = usePreference('coordinateFormat');\n\n  const columns = [{\n    headerName: t('positionFixTime'),\n    field: 'fixTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value),\n  }, {\n    headerName: t('positionLatitude'),\n    field: 'latitude',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatCoordinate('latitude', value, coordinateFormat),\n  }, {\n    headerName: t('positionLongitude'),\n    field: 'longitude',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatCoordinate('longitude', value, coordinateFormat),\n  }, {\n    headerName: t('positionSpeed'),\n    field: 'speed',\n    type: 'number',\n    width: theme.dimensions.columnWidthString,\n    valueFormatter: ({ value }) => formatSpeed(value, speedUnit, t),\n  }, {\n    headerName: t('positionAddress'),\n    field: 'address',\n    type: 'string',\n    width: theme.dimensions.columnWidthString,\n  }, {\n    headerName: t('positionIgnition'),\n    field: 'ignition',\n    type: 'boolean',\n    width: theme.dimensions.columnWidthBoolean,\n    valueGetter: ({ row }) => row.attributes.ignition,\n    valueFormatter: ({ value }) => formatBoolean(value, t),\n  }, {\n    headerName: t('deviceTotalDistance'),\n    field: 'totalDistance',\n    type: 'number',\n    hide: true,\n    width: theme.dimensions.columnWidthNumber,\n    valueGetter: ({ row }) => row.attributes.totalDistance,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit, t),\n  }];\n\n  const [items, setItems] = useState([]);\n\n  return (\n    <ReportLayout filter={<Filter setItems={setItems} />}>\n      <Paper>\n        <DataGrid\n          rows={items}\n          columns={columns}\n          hideFooter\n          autoHeight\n        />\n      </Paper>\n    </ReportLayout>\n  );\n};\n\nexport default RouteReportPage;\n","import React, { useState } from 'react';\nimport {\n  Button, Dialog, DialogActions, DialogContent, FormControl, InputLabel, MenuItem, Select, TextField,\n} from '@material-ui/core';\n\nimport { Autocomplete, createFilterOptions } from '@material-ui/lab';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst AddAttributeDialog = ({ open, onResult, definitions }) => {\n  const t = useTranslation();\n\n  const filter = createFilterOptions({\n    stringify: (option) => option.name,\n  });\n\n  const options = Object.entries(definitions).map(([key, value]) => ({\n    key,\n    name: value.name,\n    type: value.type,\n  }));\n\n  const [key, setKey] = useState();\n  const [type, setType] = useState('string');\n\n  return (\n    <Dialog open={open} fullWidth maxWidth=\"xs\">\n      <DialogContent>\n        <Autocomplete\n          onChange={(_, option) => {\n            setKey(option && typeof option === 'object' ? option.key : option);\n            if (option && option.type) {\n              setType(option.type);\n            }\n          }}\n          filterOptions={(options, params) => {\n            const filtered = filter(options, params);\n            if (params.inputValue) {\n              filtered.push({\n                key: params.inputValue,\n                name: params.inputValue,\n              });\n            }\n            return filtered;\n          }}\n          options={options}\n          getOptionLabel={(option) => (option && typeof option === 'object' ? option.name : option)}\n          renderOption={(option) => option.name}\n          freeSolo\n          renderInput={(params) => (\n            <TextField {...params} label={t('sharedAttribute')} variant=\"filled\" margin=\"normal\" />\n          )}\n        />\n        <FormControl\n          variant=\"filled\"\n          margin=\"normal\"\n          fullWidth\n          disabled={key in definitions}\n        >\n          <InputLabel>{t('sharedType')}</InputLabel>\n          <Select\n            value={type}\n            onChange={(e) => setType(e.target.value)}\n          >\n            <MenuItem value=\"string\">{t('sharedTypeString')}</MenuItem>\n            <MenuItem value=\"number\">{t('sharedTypeNumber')}</MenuItem>\n            <MenuItem value=\"boolean\">{t('sharedTypeBoolean')}</MenuItem>\n          </Select>\n        </FormControl>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          color=\"primary\"\n          disabled={!key}\n          onClick={() => onResult({ key, type })}\n        >\n          {t('sharedAdd')}\n        </Button>\n        <Button\n          autoFocus\n          onClick={() => onResult(null)}\n        >\n          {t('sharedCancel')}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default AddAttributeDialog;\n","import React, { useState } from 'react';\n\nimport {\n  Button, Checkbox, FilledInput, FormControl, FormControlLabel, Grid, IconButton, InputAdornment, InputLabel, makeStyles,\n} from '@material-ui/core';\nimport CloseIcon from '@material-ui/icons/Close';\nimport AddIcon from '@material-ui/icons/Add';\nimport AddAttributeDialog from './AddAttributeDialog';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  addButton: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(1),\n  },\n  removeButton: {\n    marginRight: theme.spacing(1.5),\n  },\n}));\n\nconst EditAttributesView = ({ attributes, setAttributes, definitions }) => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const [addDialogShown, setAddDialogShown] = useState(false);\n\n  const updateAttribute = (key, value) => {\n    const updatedAttributes = { ...attributes };\n    updatedAttributes[key] = value;\n    setAttributes(updatedAttributes);\n  };\n\n  const deleteAttribute = (key) => {\n    const updatedAttributes = { ...attributes };\n    delete updatedAttributes[key];\n    setAttributes(updatedAttributes);\n  };\n\n  const getAttributeName = (key) => {\n    const definition = definitions[key];\n    return definition ? definition.name : key;\n  };\n\n  const getAttributeType = (value) => {\n    if (typeof value === 'number') {\n      return 'number';\n    } if (typeof value === 'boolean') {\n      return 'boolean';\n    }\n    return 'string';\n  };\n\n  const convertToList = (attributes) => {\n    const booleanList = [];\n    const otherList = [];\n    Object.keys(attributes || []).forEach((key) => {\n      const value = attributes[key];\n      const type = getAttributeType(value);\n      if (type === 'boolean') {\n        booleanList.push({ key, value, type });\n      } else {\n        otherList.push({ key, value, type });\n      }\n    });\n    return otherList.concat(booleanList);\n  };\n\n  const handleAddResult = (definition) => {\n    setAddDialogShown(false);\n    if (definition) {\n      switch (definition.type) {\n        case 'number':\n          updateAttribute(definition.key, 0);\n          break;\n        case 'boolean':\n          updateAttribute(definition.key, false);\n          break;\n        default:\n          updateAttribute(definition.key, '');\n          break;\n      }\n    }\n  };\n\n  return (\n    <>\n      {convertToList(attributes).map(({ key, value, type }) => {\n        if (type === 'boolean') {\n          return (\n            <Grid container direction=\"row\" justify=\"space-between\">\n              <FormControlLabel\n                control={(\n                  <Checkbox\n                    checked={value}\n                    onChange={(e) => updateAttribute(key, e.target.checked)}\n                  />\n                )}\n                label={getAttributeName(key)}\n              />\n              <IconButton className={classes.removeButton} onClick={() => deleteAttribute(key)}>\n                <CloseIcon />\n              </IconButton>\n            </Grid>\n          );\n        }\n        return (\n          <FormControl variant=\"filled\" margin=\"normal\" key={key}>\n            <InputLabel>{getAttributeName(key)}</InputLabel>\n            <FilledInput\n              type={type === 'number' ? 'number' : 'text'}\n              value={value || ''}\n              onChange={(e) => updateAttribute(key, e.target.value)}\n              endAdornment={(\n                <InputAdornment position=\"end\">\n                  <IconButton onClick={() => deleteAttribute(key)}>\n                    <CloseIcon />\n                  </IconButton>\n                </InputAdornment>\n                )}\n            />\n          </FormControl>\n        );\n      })}\n      <Button\n        size=\"large\"\n        variant=\"outlined\"\n        color=\"primary\"\n        onClick={() => setAddDialogShown(true)}\n        startIcon={<AddIcon />}\n        className={classes.addButton}\n      >\n        {t('sharedAdd')}\n      </Button>\n      <AddAttributeDialog\n        open={addDialogShown}\n        onResult={handleAddResult}\n        definitions={definitions}\n      />\n    </>\n  );\n};\n\nexport default EditAttributesView;\n","import { useMemo } from 'react';\n\nexport default (t) => useMemo(() => ({\n  speedLimit: {\n    name: t('attributeSpeedLimit'),\n    type: 'string',\n  },\n  'report.ignoreOdometer': {\n    name: t('attributeReportIgnoreOdometer'),\n    type: 'boolean',\n  },\n}), [t]);\n","import { useMemo } from 'react';\n\nexport default (t) => useMemo(() => ({\n  notificationTokens: {\n    name: t('attributeNotificationTokens'),\n    type: 'string',\n  },\n  'web.liveRouteLength': {\n    name: t('attributeWebLiveRouteLength'),\n    type: 'number',\n  },\n  'web.selectZoom': {\n    name: t('attributeWebSelectZoom'),\n    type: 'number',\n  },\n  'web.maxZoom': {\n    name: t('attributeWebMaxZoom'),\n    type: 'number',\n  },\n  'ui.disableEvents': {\n    name: t('attributeUiDisableEvents'),\n    type: 'boolean',\n  },\n  'ui.disableVehicleFetures': {\n    name: t('attributeUiDisableVehicleFetures'),\n    type: 'boolean',\n  },\n  'ui.disableDrivers': {\n    name: t('attributeUiDisableDrivers'),\n    type: 'boolean',\n  },\n  'ui.disableComputedAttributes': {\n    name: t('attributeUiDisableComputedAttributes'),\n    type: 'boolean',\n  },\n  'ui.disableCalendars': {\n    name: t('attributeUiDisableCalendars'),\n    type: 'boolean',\n  },\n  'ui.disableMaintenance': {\n    name: t('attributeUiDisableMaintenance'),\n    type: 'boolean',\n  },\n  'ui.hidePositionAttributes': {\n    name: t('attributeUiHidePositionAttributes'),\n    type: 'string',\n  },\n  distanceUnit: {\n    name: t('settingsDistanceUnit'),\n    type: 'string',\n  },\n  speedUnit: {\n    name: t('settingsSpeedUnit'),\n    type: 'string',\n  },\n  volumeUnit: {\n    name: t('settingsVolumeUnit'),\n    type: 'string',\n  },\n  timezone: {\n    name: t('sharedTimezone'),\n    type: 'string',\n  },\n}), [t]);\n","import React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport CreateIcon from '@material-ui/icons/Create';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport FolderIcon from '@material-ui/icons/Folder';\nimport PersonIcon from '@material-ui/icons/Person';\nimport StorageIcon from '@material-ui/icons/Storage';\nimport BuildIcon from '@material-ui/icons/Build';\nimport PeopleIcon from '@material-ui/icons/People';\nimport BarChartIcon from '@material-ui/icons/BarChart';\nimport TodayIcon from '@material-ui/icons/Today';\nimport { getIsAdmin, getUserId } from '../../common/selectors';\nimport { useTranslation } from '../../LocalizationProvider';\n\nconst useAdminRoutes = (t) => useMemo(() => [\n  { subheader: t('userAdmin') },\n  {\n    name: t('settingsServer'),\n    href: '/admin/server',\n    icon: <StorageIcon />,\n  },\n  {\n    name: t('settingsUsers'),\n    href: '/admin/users',\n    icon: <PeopleIcon />,\n  },\n  {\n    name: t('statisticsTitle'),\n    href: '/admin/statistics',\n    icon: <BarChartIcon />,\n  },\n], [t]);\n\nconst useMainRoutes = (t, userId) => useMemo(() => [\n  {\n    name: t('settingsUser'),\n    href: `/user/${userId}`,\n    icon: <PersonIcon />,\n  },\n  {\n    match: 'geofence',\n    name: t('sharedGeofences'),\n    href: '/geofences',\n    icon: <CreateIcon />,\n  },\n  {\n    match: 'notification',\n    name: t('sharedNotifications'),\n    href: '/settings/notifications',\n    icon: <NotificationsIcon />,\n  },\n  {\n    match: 'group',\n    name: t('settingsGroups'),\n    href: '/settings/groups',\n    icon: <FolderIcon />,\n  },\n  {\n    match: 'driver',\n    name: t('sharedDrivers'),\n    href: '/settings/drivers',\n    icon: <PersonIcon />,\n  },\n  {\n    match: 'calendar',\n    name: t('sharedCalendars'),\n    href: '/settings/calendars',\n    icon: <TodayIcon />,\n  },\n  {\n    match: 'attribute',\n    name: t('sharedComputedAttributes'),\n    href: '/settings/attributes',\n    icon: <StorageIcon />,\n  },\n  {\n    match: 'maintenance',\n    name: t('sharedMaintenance'),\n    href: '/settings/maintenances',\n    icon: <BuildIcon />,\n  },\n], [t, userId]);\n\nexport default () => {\n  const t = useTranslation();\n\n  const isAdmin = useSelector(getIsAdmin);\n  const userId = useSelector(getUserId);\n\n  const mainRoutes = useMainRoutes(t, userId);\n  const adminRoutes = useAdminRoutes(t);\n\n  return useMemo(() => [...mainRoutes, ...(isAdmin ? adminRoutes : [])], [\n    mainRoutes, isAdmin, adminRoutes,\n  ]);\n};\n","import React, { useState, useEffect } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport {\n  Typography,\n  Divider,\n  Drawer,\n  makeStyles,\n  IconButton,\n  Hidden,\n} from '@material-ui/core';\n\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\nimport SideNav from '../../components/SideNav';\nimport NavBar from '../../components/NavBar';\nimport useRoutes from './useRoutes';\nimport { useTranslation } from '../../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    height: '100%',\n  },\n  drawerContainer: {\n    width: theme.dimensions.drawerWidthDesktop,\n  },\n  drawer: {\n    width: theme.dimensions.drawerWidthDesktop,\n    [theme.breakpoints.down('md')]: {\n      width: theme.dimensions.drawerWidthTablet,\n    },\n  },\n  content: {\n    flex: 1,\n    padding: theme.spacing(5, 3, 3, 3),\n    [theme.breakpoints.down('md')]: {\n      paddingTop: theme.spacing(10),\n    },\n  },\n  drawerHeader: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n  },\n  toolbar: {\n    [theme.breakpoints.down('md')]: {\n      ...theme.mixins.toolbar,\n    },\n  },\n}));\n\nconst OptionsLayout = ({ children }) => {\n  const classes = useStyles();\n  const location = useLocation();\n  const history = useHistory();\n  const routes = useRoutes();\n  const t = useTranslation();\n\n  const [openDrawer, setOpenDrawer] = useState(false);\n  const [optionTitle, setOptionTitle] = useState();\n\n  useEffect(() => {\n    const activeRoute = routes.find(\n      (route) => route.href && location.pathname.match(route.match || route.href),\n    );\n    setOptionTitle(activeRoute?.name);\n  }, [location, routes]);\n\n  const title = `${t('settingsTitle')} / ${optionTitle}`;\n\n  return (\n    <div className={classes.root}>\n      <Hidden lgUp>\n        <NavBar setOpenDrawer={setOpenDrawer} title={title} />\n        <Drawer\n          variant=\"temporary\"\n          open={openDrawer}\n          onClose={() => setOpenDrawer(!openDrawer)}\n          classes={{ paper: classes.drawer }}\n        >\n          <SideNav routes={routes} />\n        </Drawer>\n      </Hidden>\n\n      <Hidden mdDown>\n        <Drawer\n          variant=\"permanent\"\n          classes={{ root: classes.drawerContainer, paper: classes.drawer }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton onClick={() => history.push('/')}>\n              <ArrowBackIcon />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\" noWrap>\n              {t('settingsTitle')}\n            </Typography>\n          </div>\n          <Divider />\n          <SideNav routes={routes} />\n        </Drawer>\n      </Hidden>\n\n      <div className={classes.content}>{children}</div>\n    </div>\n  );\n};\n\nexport default OptionsLayout;\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, Button, FormControl, Container, Checkbox, FormControlLabel,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { sessionActions } from '../store';\nimport EditAttributesView from '../attributes/EditAttributesView';\nimport useDeviceAttributes from '../attributes/useDeviceAttributes';\nimport useUserAttributes from '../attributes/useUserAttributes';\nimport OptionsLayout from '../settings/OptionsLayout';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    marginTop: theme.spacing(2),\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'space-evenly',\n    '& > *': {\n      flexBasis: '33%',\n    },\n  },\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst ServerPage = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const t = useTranslation();\n\n  const userAttributes = useUserAttributes(t);\n  const deviceAttributes = useDeviceAttributes(t);\n\n  const item = useSelector((state) => state.session.server);\n  const setItem = (updatedItem) => dispatch(sessionActions.updateServer(updatedItem));\n\n  const handleSave = async () => {\n    const response = await fetch('http://139.59.81.79:8082/api/server', {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(item),\n    });\n\n    if (response.ok) {\n      history.goBack();\n    }\n  };\n\n  return (\n    <OptionsLayout>\n      <Container maxWidth=\"xs\" className={classes.container}>\n        {item && (\n          <>\n            <Accordion defaultExpanded>\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography variant=\"subtitle1\">\n                  {t('sharedPreferences')}\n                </Typography>\n              </AccordionSummary>\n              <AccordionDetails className={classes.details}>\n                <TextField\n                  margin=\"normal\"\n                  value={item.mapUrl || ''}\n                  onChange={(event) => setItem({ ...item, mapUrl: event.target.value })}\n                  label={t('mapCustomLabel')}\n                  variant=\"filled\"\n                />\n                <TextField\n                  margin=\"normal\"\n                  value={item.poiLayer || ''}\n                  onChange={(event) => setItem({ ...item, poiLayer: event.target.value })}\n                  label={t('mapPoiLayer')}\n                  variant=\"filled\"\n                />\n                <TextField\n                  margin=\"normal\"\n                  value={item.announcement || ''}\n                  onChange={(event) => setItem({ ...item, announcement: event.target.value })}\n                  label={t('serverAnnouncement')}\n                  variant=\"filled\"\n                />\n              </AccordionDetails>\n            </Accordion>\n            <Accordion>\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography variant=\"subtitle1\">\n                  {t('sharedPermissions')}\n                </Typography>\n              </AccordionSummary>\n              <AccordionDetails className={classes.details}>\n                <FormControlLabel\n                  control={<Checkbox checked={item.registration} onChange={(event) => setItem({ ...item, registration: event.target.checked })} />}\n                  label={t('serverRegistration')}\n                />\n                <FormControlLabel\n                  control={<Checkbox checked={item.readonly} onChange={(event) => setItem({ ...item, readonly: event.target.checked })} />}\n                  label={t('serverReadonly')}\n                />\n                <FormControlLabel\n                  control={<Checkbox checked={item.deviceReadonly} onChange={(event) => setItem({ ...item, deviceReadonly: event.target.checked })} />}\n                  label={t('userDeviceReadonly')}\n                />\n                <FormControlLabel\n                  control={<Checkbox checked={item.limitCommands} onChange={(event) => setItem({ ...item, limitCommands: event.target.checked })} />}\n                  label={t('userLimitCommands')}\n                />\n              </AccordionDetails>\n            </Accordion>\n            <Accordion>\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography variant=\"subtitle1\">\n                  {t('sharedAttributes')}\n                </Typography>\n              </AccordionSummary>\n              <AccordionDetails className={classes.details}>\n                <EditAttributesView\n                  attributes={item.attributes}\n                  setAttributes={(attributes) => setItem({ ...item, attributes })}\n                  definitions={{ ...userAttributes, ...deviceAttributes }}\n                />\n              </AccordionDetails>\n            </Accordion>\n          </>\n        )}\n        <FormControl fullWidth margin=\"normal\">\n          <div className={classes.buttons}>\n            <Button type=\"button\" color=\"primary\" variant=\"outlined\" onClick={() => history.goBack()}>\n              {t('sharedCancel')}\n            </Button>\n            <Button type=\"button\" color=\"primary\" variant=\"contained\" onClick={handleSave}>\n              {t('sharedSave')}\n            </Button>\n          </div>\n        </FormControl>\n      </Container>\n    </OptionsLayout>\n  );\n};\n\nexport default ServerPage;\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\nimport { formatBoolean } from '../common/formatter';\nimport OptionsLayout from '../settings/OptionsLayout';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst UsersView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const [items, setItems] = useState([]);\n\n  useEffectAsync(async () => {\n    const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/users');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.columnAction} />\n            <TableCell>{t('sharedName')}</TableCell>\n            <TableCell>{t('userEmail')}</TableCell>\n            <TableCell>{t('userAdmin')}</TableCell>\n            <TableCell>{t('sharedDisabled')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell>{item.name}</TableCell>\n              <TableCell>{item.email}</TableCell>\n              <TableCell>{formatBoolean(item.administrator, t)}</TableCell>\n              <TableCell>{formatBoolean(item.disabled, t)}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst UsersPage = () => (\n  <OptionsLayout>\n    <EditCollectionView content={UsersView} editPath=\"/user\" endpoint=\"users\" />\n  </OptionsLayout>\n);\n\nexport default UsersPage;\n","import React from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport Button from '@material-ui/core/Button';\nimport FormControl from '@material-ui/core/FormControl';\n\nimport { useEffectAsync } from './reactHelper';\nimport OptionsLayout from './settings/OptionsLayout';\nimport { useTranslation } from './LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    marginTop: theme.spacing(2),\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'space-evenly',\n    '& > *': {\n      flexBasis: '33%',\n    },\n  },\n}));\n\nconst EditItemView = ({\n  children, endpoint, item, setItem,\n}) => {\n  const history = useHistory();\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const { id } = useParams();\n\n  useEffectAsync(async () => {\n    if (id) {\n      const response = await fetch(`/api/${endpoint}/${id}`);\n      if (response.ok) {\n        setItem(await response.json());\n      }\n    } else {\n      setItem({});\n    }\n  }, [id]);\n\n  const handleSave = async () => {\n    let url = `/api/${endpoint}`;\n    if (id) {\n      url += `/${id}`;\n    }\n\n    const response = await fetch(url, {\n      method: !id ? 'POST' : 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(item),\n    });\n\n    if (response.ok) {\n      history.goBack();\n    }\n  };\n\n  return (\n    <OptionsLayout>\n      <Container maxWidth=\"xs\" className={classes.container}>\n        {children}\n        <FormControl fullWidth margin=\"normal\">\n          <div className={classes.buttons}>\n            <Button type=\"button\" color=\"primary\" variant=\"outlined\" onClick={() => history.goBack()}>\n              {t('sharedCancel')}\n            </Button>\n            <Button type=\"button\" color=\"primary\" variant=\"contained\" onClick={handleSave}>\n              {t('sharedSave')}\n            </Button>\n          </div>\n        </FormControl>\n      </Container>\n    </OptionsLayout>\n  );\n};\n\nexport default EditItemView;\n","import {\n  FormControl, InputLabel, MenuItem, Select,\n} from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { useEffectAsync } from '../reactHelper';\n\nconst SelectField = ({\n  margin,\n  variant,\n  label,\n  multiple,\n  value,\n  emptyValue = 0,\n  onChange,\n  endpoint,\n  data,\n  keyGetter = (item) => item.id,\n  titleGetter = (item) => item.name,\n}) => {\n  const [items, setItems] = useState(data);\n\n  useEffectAsync(async () => {\n    if (endpoint) {\n      const response = await fetch(endpoint);\n      if (response.ok) {\n        setItems(await response.json());\n      }\n    }\n  }, []);\n\n  if (items) {\n    return (\n      <FormControl margin={margin} variant={variant}>\n        <InputLabel>{label}</InputLabel>\n        <Select\n          multiple={multiple}\n          value={value}\n          onChange={onChange}\n        >\n          {!multiple && emptyValue !== null\n            && <MenuItem value={emptyValue}>&nbsp;</MenuItem>}\n          {items.map((item) => (\n            <MenuItem key={keyGetter(item)} value={keyGetter(item)}>{titleGetter(item)}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    );\n  }\n  return null;\n};\n\nexport default SelectField;\n","import {\n  FormControl, InputLabel, MenuItem, Select,\n} from '@material-ui/core';\nimport React, { useState } from 'react';\nimport { useEffectAsync } from '../reactHelper';\n\nconst LinkField = ({\n  margin,\n  variant,\n  label,\n  endpointAll,\n  endpointLinked,\n  baseId,\n  keyBase,\n  keyLink,\n  keyGetter = (item) => item.id,\n  titleGetter = (item) => item.name,\n}) => {\n  const [items, setItems] = useState();\n  const [linked, setLinked] = useState();\n\n  useEffectAsync(async () => {\n    const response = await fetch(endpointAll);\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, []);\n\n  useEffectAsync(async () => {\n    const response = await fetch(endpointLinked);\n    if (response.ok) {\n      const data = await response.json();\n      setLinked(data.map((it) => it.id));\n    }\n  }, []);\n\n  const createBody = (linkId) => {\n    const body = {};\n    body[keyBase] = baseId;\n    body[keyLink] = linkId;\n    return body;\n  };\n\n  const onChange = async (event) => {\n    const oldValue = linked;\n    const newValue = event.target.value;\n    const results = [];\n    newValue.filter((it) => !oldValue.includes(it)).forEach((added) => {\n      results.push(fetch('${process.env.REACT_APP_URL_NAME}/api/permissions', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(createBody(added)),\n      }));\n    });\n    oldValue.filter((it) => !newValue.includes(it)).forEach((removed) => {\n      results.push(fetch('${process.env.REACT_APP_URL_NAME}/api/permissions', {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(createBody(removed)),\n      }));\n    });\n    await Promise.all(results);\n    setLinked(newValue);\n  };\n\n  if (items && linked) {\n    return (\n      <FormControl margin={margin} variant={variant}>\n        <InputLabel>{label}</InputLabel>\n        <Select\n          multiple\n          value={linked}\n          onChange={onChange}\n        >\n          {items.map((item) => (\n            <MenuItem key={keyGetter(item)} value={keyGetter(item)}>{titleGetter(item)}</MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n    );\n  }\n  return null;\n};\n\nexport default LinkField;\n","export const prefixString = (prefix, value) => prefix + value.charAt(0).toUpperCase() + value.slice(1);\n\nexport const unprefixString = (prefix, value) => value.charAt(prefix.length).toLowerCase() + value.slice(prefix.length + 1);\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, FormControlLabel, Checkbox,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport EditItemView from './EditItemView';\nimport EditAttributesView from './attributes/EditAttributesView';\nimport SelectField from './form/SelectField';\nimport deviceCategories from './common/deviceCategories';\nimport LinkField from './form/LinkField';\nimport { prefixString } from './common/stringUtils';\nimport { useTranslation } from './LocalizationProvider';\nimport useDeviceAttributes from './attributes/useDeviceAttributes';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst DevicePage = () => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const deviceAttributes = useDeviceAttributes(t);\n\n  const [item, setItem] = useState();\n\n  return (\n    <EditItemView endpoint=\"devices\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.uniqueId || ''}\n                onChange={(event) => setItem({ ...item, uniqueId: event.target.value })}\n                label={t('deviceIdentifier')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedExtra')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <SelectField\n                margin=\"normal\"\n                value={item.groupId || 0}\n                onChange={(event) => setItem({ ...item, groupId: Number(event.target.value) })}\n                endpoint=\"/api/groups\"\n                label={t('groupParent')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.phone || ''}\n                onChange={(event) => setItem({ ...item, phone: event.target.value })}\n                label={t('sharedPhone')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.model || ''}\n                onChange={(event) => setItem({ ...item, model: event.target.value })}\n                label={t('deviceModel')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.contact || ''}\n                onChange={(event) => setItem({ ...item, contact: event.target.value })}\n                label={t('deviceContact')}\n                variant=\"filled\"\n              />\n              <SelectField\n                margin=\"normal\"\n                value={item.category || 'default'}\n                emptyValue={null}\n                onChange={(event) => setItem({ ...item, category: event.target.value })}\n                data={deviceCategories.map((category) => ({\n                  id: category,\n                  name: t(`category${category.replace(/^\\w/, (c) => c.toUpperCase())}`),\n                }))}\n                label={t('deviceCategory')}\n                variant=\"filled\"\n              />\n              <FormControlLabel\n                control={<Checkbox checked={item.disabled} onChange={(event) => setItem({ ...item, disabled: event.target.checked })} />}\n                label={t('sharedDisabled')}\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={deviceAttributes}\n              />\n            </AccordionDetails>\n          </Accordion>\n          {item.id\n            && (\n            <Accordion>\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography variant=\"subtitle1\">\n                  {t('sharedConnections')}\n                </Typography>\n              </AccordionSummary>\n              <AccordionDetails className={classes.details}>\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/geofences\"\n                  endpointLinked={`/api/geofences?deviceId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"deviceId\"\n                  keyLink=\"geofenceId\"\n                  label={t('sharedGeofences')}\n                  variant=\"filled\"\n                />\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/notifications\"\n                  endpointLinked={`/api/notifications?deviceId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"deviceId\"\n                  keyLink=\"notificationId\"\n                  titleGetter={(it) => t(prefixString('event', it.type))}\n                  label={t('sharedNotifications')}\n                  variant=\"filled\"\n                />\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/drivers\"\n                  endpointLinked={`/api/drivers?deviceId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"deviceId\"\n                  keyLink=\"driverId\"\n                  label={t('sharedDrivers')}\n                  variant=\"filled\"\n                />\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/attributes/computed\"\n                  endpointLinked={`/api/attributes/computed?deviceId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"deviceId\"\n                  keyLink=\"attributeId\"\n                  titleGetter={(it) => it.description}\n                  label={t('sharedComputedAttributes')}\n                  variant=\"filled\"\n                />\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/maintenance\"\n                  endpointLinked={`/api/maintenance?deviceId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"deviceId\"\n                  keyLink=\"maintenanceId\"\n                  label={t('sharedMaintenance')}\n                  variant=\"filled\"\n                />\n              </AccordionDetails>\n            </Accordion>\n            )}\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default DevicePage;\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport EditItemView from './EditItemView';\nimport EditAttributesView from './attributes/EditAttributesView';\nimport LinkField from './form/LinkField';\nimport { useTranslation } from './LocalizationProvider';\nimport useUserAttributes from './attributes/useUserAttributes';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst UserPage = () => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const userAttributes = useUserAttributes(t);\n\n  const [item, setItem] = useState();\n\n  return (\n    <EditItemView endpoint=\"users\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.email || ''}\n                onChange={(event) => setItem({ ...item, email: event.target.value })}\n                label={t('userEmail')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                type=\"password\"\n                onChange={(event) => setItem({ ...item, password: event.target.value })}\n                label={t('userPassword')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedPreferences')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.phone || ''}\n                onChange={(event) => setItem({ ...item, phone: event.target.value })}\n                label={t('sharedPhone')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.poiLayer || ''}\n                onChange={(event) => setItem({ ...item, poiLayer: event.target.value })}\n                label={t('mapPoiLayer')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={userAttributes}\n              />\n            </AccordionDetails>\n          </Accordion>\n          {item.id\n            && (\n            <Accordion>\n              <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <Typography variant=\"subtitle1\">\n                  {t('sharedConnections')}\n                </Typography>\n              </AccordionSummary>\n              <AccordionDetails className={classes.details}>\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/devices?all=true\"\n                  endpointLinked={`/api/devices?userId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"userId\"\n                  keyLink=\"deviceId\"\n                  label={t('deviceTitle')}\n                  variant=\"filled\"\n                />\n                <LinkField\n                  margin=\"normal\"\n                  endpointAll=\"/api/groups?all=true\"\n                  endpointLinked={`/api/groups?userId=${item.id}`}\n                  baseId={item.id}\n                  keyBase=\"userId\"\n                  keyLink=\"groupId\"\n                  label={t('settingsGroups')}\n                  variant=\"filled\"\n                />\n              </AccordionDetails>\n            </Accordion>\n            )}\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default UserPage;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { useDispatch, useSelector, connect } from 'react-redux';\nimport { Snackbar } from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\n\nimport { positionsActions, devicesActions, sessionActions } from './store';\nimport { useEffectAsync } from './reactHelper';\nimport { useTranslation } from './LocalizationProvider';\nimport { prefixString } from './common/stringUtils';\n\nconst SocketController = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const t = useTranslation();\n\n  const authenticated = useSelector((state) => !!state.session.user);\n  const devices = useSelector((state) => state.devices.items);\n\n  const socketRef = useRef();\n\n  const [events, setEvents] = useState([]);\n  const [notifications, setNotifications] = useState([]);\n\n  const connectSocket = () => {\n    const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n    const socket = new WebSocket(`${protocol}//${window.location.host}/api/socket`);\n    socketRef.current = socket;\n\n    socket.onerror = () => {\n      setTimeout(() => connectSocket(), 60 * 1000);\n    };\n\n    socket.onmessage = (event) => {\n      const data = JSON.parse(event.data);\n      if (data.devices) {\n        dispatch(devicesActions.update(data.devices));\n      }\n      if (data.positions) {\n        dispatch(positionsActions.update(data.positions));\n      }\n      if (data.events) {\n        setEvents(data.events);\n      }\n    };\n  };\n\n  useEffectAsync(async () => {\n    //const response = await fetch('/api/server');\n\t//const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/server');\n    //const response = await fetch('http://139.59.81.79:8082/api/server', { mode: 'no-cors'});\n    //const response = await fetch('https://139.59.81.79:8082/api/server');\n\tconst response = await fetch('http://139.59.81.79:8082/api/server');\n    if (response.ok) {\n      dispatch(sessionActions.updateServer(await response.json()));\n    }\n  }, []);\n\n  useEffectAsync(async () => {\n    if (authenticated) {\n      const response = await fetch('http://139.59.81.79:8082/api/devices');\n      if (response.ok) {\n        dispatch(devicesActions.refresh(await response.json()));\n      }\n      connectSocket();\n      return () => {\n        const socket = socketRef.current;\n        if (socket) {\n          socket.close();\n        }\n      };\n    }\n    const response = await fetch('http://139.59.81.79:8082/api/session');\n    if (response.ok) {\n      dispatch(sessionActions.updateUser(await response.json()));\n    } else {\n      history.push('/login');\n    }\n    return null;\n  }, [authenticated]);\n\n  useEffect(() => {\n    setNotifications(events.map((event) => ({\n      id: event.id,\n      message: `${devices[event.deviceId]?.name}: ${t(prefixString('event', event.type))}`,\n      show: true,\n    })));\n  }, [events, devices]);\n\n  return (\n    <>\n      {notifications.map((notification) => (\n        <Snackbar\n          key={notification.id}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'right',\n          }}\n          open={notification.show}\n          message={notification.message}\n          autoHideDuration={5000}\n          onClose={() => setEvents(events.filter((e) => e.id !== notification.id))}\n        />\n      ))}\n    </>\n  );\n};\n\nexport default connect()(SocketController);\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\nimport { prefixString } from '../common/stringUtils';\nimport { formatBoolean } from '../common/formatter';\nimport OptionsLayout from './OptionsLayout';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst NotificationsView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const [items, setItems] = useState([]);\n\n  useEffectAsync(async () => {\n    const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/notifications');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  const formatList = (prefix, value) => {\n    if (value) {\n      return value\n        .split(/[, ]+/)\n        .filter(Boolean)\n        .map((it) => t(prefixString(prefix, it)))\n        .join(', ');\n    }\n    return '';\n  };\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.columnAction} />\n            <TableCell>{t('notificationType')}</TableCell>\n            <TableCell>{t('notificationAlways')}</TableCell>\n            <TableCell>{t('sharedAlarms')}</TableCell>\n            <TableCell>{t('notificationNotificators')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell>{t(prefixString('event', item.type))}</TableCell>\n              <TableCell>{formatBoolean(item.always, t)}</TableCell>\n              <TableCell>{formatList('alarm', item.attributes.alarms)}</TableCell>\n              <TableCell>{formatList('notificator', item.notificators)}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst NotificationsPage = () => (\n  <OptionsLayout>\n    <EditCollectionView content={NotificationsView} editPath=\"/settings/notification\" endpoint=\"notifications\" />\n  </OptionsLayout>\n);\n\nexport default NotificationsPage;\n","import React, { useState } from 'react';\n\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, FormControlLabel, Checkbox,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { useTranslation, useTranslationKeys } from '../LocalizationProvider';\nimport EditItemView from '../EditItemView';\nimport { prefixString, unprefixString } from '../common/stringUtils';\nimport SelectField from '../form/SelectField';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst NotificationPage = () => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const [item, setItem] = useState();\n\n  const alarms = useTranslationKeys((it) => it.startsWith('alarm')).map((it) => ({\n    key: unprefixString('alarm', it),\n    name: t(it),\n  }));\n\n  return (\n    <EditItemView endpoint=\"notifications\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <SelectField\n                margin=\"normal\"\n                value={item.type || 'alarm'}\n                emptyValue={null}\n                onChange={(e) => setItem({ ...item, type: e.target.value })}\n                endpoint=\"/api/notifications/types\"\n                keyGetter={(it) => it.type}\n                titleGetter={(it) => t(prefixString('event', it.type))}\n                label={t('sharedType')}\n                variant=\"filled\"\n              />\n              <SelectField\n                multiple\n                margin=\"normal\"\n                value={item.notificators ? item.notificators.split(/[, ]+/) : []}\n                onChange={(e) => setItem({ ...item, notificators: e.target.value.join() })}\n                endpoint=\"/api/notifications/notificators\"\n                keyGetter={(it) => it.type}\n                titleGetter={(it) => t(prefixString('notificator', it.type))}\n                label={t('notificationNotificators')}\n                variant=\"filled\"\n              />\n              {(!item.type || item.type === 'alarm')\n                && (\n                <SelectField\n                  multiple\n                  margin=\"normal\"\n                  value={item.attributes && item.attributes.alarms ? item.attributes.alarms.split(/[, ]+/) : []}\n                  onChange={(e) => setItem({ ...item, attributes: { ...item.attributes, alarms: e.target.value.join() } })}\n                  data={alarms}\n                  keyGetter={(it) => it.key}\n                  label={t('sharedAlarms')}\n                  variant=\"filled\"\n                />\n                )}\n              <FormControlLabel\n                control={(\n                  <Checkbox\n                    checked={item.always}\n                    onChange={(event) => setItem({ ...item, always: event.target.checked })}\n                  />\n                )}\n                label={t('notificationAlways')}\n              />\n            </AccordionDetails>\n          </Accordion>\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default NotificationPage;\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\nimport OptionsLayout from './OptionsLayout';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst GroupsView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const [items, setItems] = useState([]);\n\n  useEffectAsync(async () => {\n    const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/groups');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.columnAction} />\n            <TableCell>{t('sharedName')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell>{item.name}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst GroupsPage = () => (\n  <OptionsLayout>\n    <EditCollectionView content={GroupsView} editPath=\"/settings/group\" endpoint=\"groups\" />\n  </OptionsLayout>\n);\n\nexport default GroupsPage;\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport EditItemView from '../EditItemView';\nimport EditAttributesView from '../attributes/EditAttributesView';\nimport useDeviceAttributes from '../attributes/useDeviceAttributes';\nimport SelectField from '../form/SelectField';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst GroupPage = () => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const deviceAttributes = useDeviceAttributes(t);\n\n  const [item, setItem] = useState();\n\n  return (\n    <EditItemView endpoint=\"groups\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedExtra')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <SelectField\n                margin=\"normal\"\n                value={item.groupId || 0}\n                onChange={(event) => setItem({ ...item, groupId: Number(event.target.value) })}\n                endpoint=\"/api/groups\"\n                label={t('groupParent')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={deviceAttributes}\n              />\n            </AccordionDetails>\n          </Accordion>\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default GroupPage;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useDispatch, useSelector } from 'react-redux';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport Drawer from '@material-ui/core/Drawer';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MapIcon from '@material-ui/icons/Map';\nimport ShuffleIcon from '@material-ui/icons/Shuffle';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport ReplayIcon from '@material-ui/icons/Replay';\nimport { sessionActions } from './store';\nimport * as selectors from './common/selectors';\nimport { useTranslation } from './LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  flex: {\n    flexGrow: 1,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n  },\n  list: {\n    width: 250,\n  },\n  menuButton: {\n    marginLeft: -12,\n    marginRight: 20,\n  },\n}));\n\nconst MainToolbar = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const t = useTranslation();\n\n  const userId = useSelector(selectors.getUserId);\n\n  const [drawer, setDrawer] = useState(false);\n\n  const openDrawer = () => { setDrawer(true); };\n  const closeDrawer = () => { setDrawer(false); };\n\n  const handleLogout = async () => {\n    const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/session', { method: 'DELETE' });\n    if (response.ok) {\n      dispatch(sessionActions.updateUser(null));\n      history.push('/login');\n    }\n  };\n\n  return (\n    <>\n      <AppBar position=\"static\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            className={classes.menuButton}\n            color=\"inherit\"\n            onClick={openDrawer}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" color=\"inherit\" className={classes.flex}>\n            Traccar\n          </Typography>\n          <Button color=\"inherit\" onClick={handleLogout}>{t('loginLogout')}</Button>\n        </Toolbar>\n      </AppBar>\n      <Drawer open={drawer} onClose={closeDrawer}>\n        <div\n          tabIndex={0}\n          className={classes.list}\n          role=\"button\"\n          onClick={closeDrawer}\n          onKeyDown={closeDrawer}\n        >\n          <List>\n            <ListItem button onClick={() => history.push('/')}>\n              <ListItemIcon>\n                <MapIcon />\n              </ListItemIcon>\n              <ListItemText primary={t('mapTitle')} />\n            </ListItem>\n            <ListItem button onClick={() => history.push('/replay')}>\n              <ListItemIcon>\n                <ReplayIcon />\n              </ListItemIcon>\n              <ListItemText primary={t('reportReplay')} />\n            </ListItem>\n            <ListItem button onClick={() => history.push('/reports/route')}>\n              <ListItemIcon>\n                <DescriptionIcon />\n              </ListItemIcon>\n              <ListItemText primary={t('reportTitle')} />\n            </ListItem>\n            <ListItem\n              button\n              disabled={!userId}\n              onClick={() => history.push('/settings/notifications')}\n            >\n              <ListItemIcon>\n                <ShuffleIcon />\n              </ListItemIcon>\n              <ListItemText primary={t('settingsTitle')} />\n            </ListItem>\n          </List>\n        </div>\n      </Drawer>\n    </>\n  );\n};\n\nexport default MainToolbar;\n","import React, { Fragment, useState } from 'react';\n\nimport {\n  makeStyles, Typography, ListItem, ListItemText, ListItemSecondaryAction, List, Container, Paper, Divider,\n} from '@material-ui/core';\nimport { useParams } from 'react-router-dom';\nimport { useEffectAsync } from './reactHelper';\nimport MainToolbar from './MainToolbar';\nimport { formatPosition } from './common/formatter';\nimport { prefixString } from './common/stringUtils';\nimport { useTranslation } from './LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst PositionPage = () => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const { id } = useParams();\n\n  const [item, setItem] = useState();\n\n  useEffectAsync(async () => {\n    if (id) {\n      const response = await fetch(`/api/positions?id=${id}`, {\n        headers: {\n          Accept: 'application/json',\n        },\n      });\n      if (response.ok) {\n        const items = await response.json();\n        setItem(items[0]);\n      }\n    } else {\n      setItem({});\n    }\n  }, [id]);\n\n  const formatKey = (key) => t(prefixString('position', key)) || `${t('sharedAttribute')} \"${key}\"`;\n\n  const attributesList = () => {\n    const combinedList = { ...item, ...item.attributes };\n    return Object.entries(combinedList).filter(([, value]) => typeof value !== 'object');\n  };\n\n  return (\n    <>\n      <MainToolbar />\n      <Container maxWidth=\"sm\" className={classes.root}>\n        <Paper>\n          {item\n            && (\n            <List>\n              {attributesList().map(([key, value], index, list) => (\n                <Fragment key={key}>\n                  <ListItem>\n                    <ListItemText\n                      primary={formatKey(key)}\n                    />\n                    <ListItemSecondaryAction>\n                      <Typography variant=\"body2\">\n                        {formatPosition(value, key, t)}\n                      </Typography>\n                    </ListItemSecondaryAction>\n                  </ListItem>\n                  {index < list.length - 1 ? <Divider /> : null}\n                </Fragment>\n              ))}\n            </List>\n            )}\n        </Paper>\n      </Container>\n    </>\n  );\n};\n\nexport default PositionPage;\n","import React, { useState } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport {\n  Grid, FormControl, InputLabel, Select, MenuItem,\n} from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport { formatDate } from '../common/formatter';\nimport ReportFilter from './ReportFilter';\nimport ReportLayout from './ReportLayout';\nimport { prefixString } from '../common/stringUtils';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst Filter = ({ setItems }) => {\n  const t = useTranslation();\n\n  const [eventTypes, setEventTypes] = useState(['allEvents']);\n\n  const handleSubmit = async (deviceId, from, to, mail, headers) => {\n    const query = new URLSearchParams({\n      deviceId, from, to, mail,\n    });\n    eventTypes.forEach((it) => query.append('type', it));\n    const response = await fetch(`/api/reports/events?${query.toString()}`, { headers });\n    if (response.ok) {\n      const contentType = response.headers.get('content-type');\n      if (contentType) {\n        if (contentType === 'application/json') {\n          setItems(await response.json());\n        } else {\n          window.location.assign(window.URL.createObjectURL(await response.blob()));\n        }\n      }\n    }\n  };\n\n  return (\n    <ReportFilter handleSubmit={handleSubmit}>\n      <Grid item xs={12} sm={6}>\n        <FormControl variant=\"filled\" fullWidth>\n          <InputLabel>{t('reportEventTypes')}</InputLabel>\n          <Select value={eventTypes} onChange={(e) => setEventTypes(e.target.value)} multiple>\n            <MenuItem value=\"allEvents\">{t('eventAll')}</MenuItem>\n            <MenuItem value=\"deviceOnline\">{t('eventDeviceOnline')}</MenuItem>\n            <MenuItem value=\"deviceUnknown\">{t('eventDeviceUnknown')}</MenuItem>\n            <MenuItem value=\"deviceOffline\">{t('eventDeviceOffline')}</MenuItem>\n            <MenuItem value=\"deviceInactive\">{t('eventDeviceInactive')}</MenuItem>\n            <MenuItem value=\"deviceMoving\">{t('eventDeviceMoving')}</MenuItem>\n            <MenuItem value=\"deviceStopped\">{t('eventDeviceStopped')}</MenuItem>\n            <MenuItem value=\"deviceOverspeed\">{t('eventDeviceOverspeed')}</MenuItem>\n            <MenuItem value=\"deviceFuelDrop\">{t('eventDeviceFuelDrop')}</MenuItem>\n            <MenuItem value=\"commandResult\">{t('eventCommandResult')}</MenuItem>\n            <MenuItem value=\"geofenceEnter\">{t('eventGeofenceEnter')}</MenuItem>\n            <MenuItem value=\"geofenceExit\">{t('eventGeofenceExit')}</MenuItem>\n            <MenuItem value=\"alarm\">{t('eventAlarm')}</MenuItem>\n            <MenuItem value=\"ignitionOn\">{t('eventIgnitionOn')}</MenuItem>\n            <MenuItem value=\"ignitionOff\">{t('eventIgnitionOff')}</MenuItem>\n            <MenuItem value=\"maintenance\">{t('eventMaintenance')}</MenuItem>\n            <MenuItem value=\"textMessage\">{t('eventTextMessage')}</MenuItem>\n            <MenuItem value=\"driverChanged\">{t('eventDriverChanged')}</MenuItem>\n          </Select>\n        </FormControl>\n      </Grid>\n    </ReportFilter>\n  );\n};\n\nconst EventReportPage = () => {\n  const theme = useTheme();\n  const t = useTranslation();\n\n  const geofences = useSelector((state) => state.geofences.items);\n\n  const [items, setItems] = useState([]);\n\n  const formatGeofence = (value) => {\n    if (value > 0) {\n      const geofence = geofences[value];\n      return geofence ? geofence.name : '';\n    }\n    return null;\n  };\n\n  const columns = [{\n    headerName: t('positionFixTime'),\n    field: 'serverTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value),\n  }, {\n    headerName: t('sharedType'),\n    field: 'type',\n    type: 'string',\n    width: theme.dimensions.columnWidthString,\n    valueFormatter: ({ value }) => t(prefixString('event', value)),\n  }, {\n    headerName: t('sharedGeofence'),\n    field: 'geofenceId',\n    width: theme.dimensions.columnWidthString,\n    valueFormatter: ({ value }) => formatGeofence(value),\n  }, {\n    headerName: t('sharedMaintenance'),\n    field: 'maintenanceId',\n    type: 'number',\n    width: theme.dimensions.columnWidthString,\n  }];\n\n  return (\n    <ReportLayout filter={<Filter setItems={setItems} />}>\n      <DataGrid\n        rows={items}\n        columns={columns}\n        hideFooter\n        autoHeight\n      />\n    </ReportLayout>\n  );\n};\n\nexport default EventReportPage;\n","import maplibregl from 'maplibre-gl';\nimport { useEffect } from 'react';\nimport { map } from './Map';\n\nconst ReplayPathMap = ({ positions }) => {\n  const id = 'replay';\n\n  useEffect(() => {\n    map.addSource(id, {\n      type: 'geojson',\n      data: {\n        type: 'Feature',\n        geometry: {\n          type: 'LineString',\n          coordinates: [],\n        },\n      },\n    });\n    map.addLayer({\n      source: id,\n      id,\n      type: 'line',\n      layout: {\n        'line-join': 'round',\n        'line-cap': 'round',\n      },\n      paint: {\n        'line-color': '#333',\n        'line-width': 5,\n      },\n    });\n\n    return () => {\n      if (map.getLayer(id)) {\n        map.removeLayer(id);\n      }\n      if (map.getSource(id)) {\n        map.removeSource(id);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    const coordinates = positions.map((item) => [item.longitude, item.latitude]);\n    map.getSource(id).setData({\n      type: 'Feature',\n      geometry: {\n        type: 'LineString',\n        coordinates,\n      },\n    });\n    if (coordinates.length) {\n      const bounds = coordinates.reduce((bounds, item) => bounds.extend(item), new maplibregl.LngLatBounds(coordinates[0], coordinates[0]));\n      map.fitBounds(bounds, {\n        padding: {\n          top: 50, bottom: 250, left: 25, right: 25,\n        },\n      });\n    }\n  }, [positions]);\n\n  return null;\n};\n\nexport default ReplayPathMap;\n","import React, { useState, useEffect, useRef } from 'react';\nimport {\n  Grid, FormControlLabel, Switch, IconButton, TextField, makeStyles, Paper, Slider, Toolbar, Tooltip, Typography,\n} from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport PlayArrowIcon from '@material-ui/icons/PlayArrow';\nimport PauseIcon from '@material-ui/icons/Pause';\nimport FastForwardIcon from '@material-ui/icons/FastForward';\nimport FastRewindIcon from '@material-ui/icons/FastRewind';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport Map from '../map/Map';\nimport ReplayPathMap from '../map/ReplayPathMap';\nimport PositionsMap from '../map/PositionsMap';\nimport { formatPosition } from '../common/formatter';\nimport ReportFilter from './ReportFilter';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  title: {\n    ...theme.typography.title,\n  },\n  sidebar: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    margin: theme.spacing(1.5),\n    width: theme.dimensions.drawerWidthDesktop,\n    [theme.breakpoints.down('md')]: {\n      width: '100%',\n      margin: 0,\n    },\n  },\n  formControlLabel: {\n    height: '100%',\n    width: '100%',\n    paddingRight: theme.spacing(1),\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  reportFilterContainer: {\n    flex: 1,\n    padding: theme.spacing(2),\n    [theme.breakpoints.down('md')]: {\n      margin: theme.spacing(1),\n    },\n  },\n  sliderContainer: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst TimeLabel = ({ children, open, value }) => (\n  <Tooltip open={open} enterTouchDelay={0} placement=\"top\" title={value}>\n    {children}\n  </Tooltip>\n);\n\nconst ReplayPage = () => {\n  const t = useTranslation();\n  const classes = useStyles();\n  const history = useHistory();\n  const timerRef = useRef();\n\n  const [positions, setPositions] = useState([]);\n  const [index, setIndex] = useState(0);\n  const [selectedDeviceId, setSelectedDeviceId] = useState();\n  const [playbackSpeed, setPlaybackSpeed] = useState('');\n  const [expanded, setExpanded] = useState(true);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  const deviceName = useSelector((state) => {\n    if (selectedDeviceId) {\n      const device = state.devices.items[selectedDeviceId];\n      if (device) {\n        return device.name;\n      }\n    }\n    return null;\n  });\n\n  useEffect(() => {\n    if (isPlaying && positions.length > 0) {\n      timerRef.current = setInterval(() => {\n        console.log('in setInterval func');\n        setIndex((index) => index + 1);\n      }, 500);\n    } else {\n      clearInterval(timerRef.current);\n    }\n\n    return () => clearInterval(timerRef.current);\n  }, [isPlaying, positions]);\n\n  useEffect(() => {\n    if (index >= positions.length) {\n      clearInterval(timerRef.current);\n    }\n // eslint-disable-next-line\n  }, [index]);\n\n  const handleSubmit = async (deviceId, from, to, _, headers) => {\n    setSelectedDeviceId(deviceId);\n    const query = new URLSearchParams({ deviceId, from, to });\n    const response = await fetch(`/api/positions?${query.toString()}`, { headers });\n    if (response.ok) {\n      setIndex(0);\n      setPositions(await response.json());\n      setExpanded(false);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Map>\n        <ReplayPathMap positions={positions} />\n        {index < positions.length\n          && <PositionsMap positions={[positions[index]]} />}\n      </Map>\n      <div className={classes.sidebar}>\n        <Grid container direction=\"column\" spacing={1}>\n          <Grid item>\n            <Paper elevation={3} square>\n              <Toolbar disableGutters>\n                <Grid container alignItems=\"center\">\n                  <Grid item>\n                    <IconButton onClick={() => history.push('/')}>\n                      <ArrowBackIcon />\n                    </IconButton>\n                  </Grid>\n                  <Grid item xs>\n                    <Typography className={classes.replay} color=\"primary\">\n                      {t('reportReplay')}\n                    </Typography>\n                  </Grid>\n                  {!expanded && (\n                    <Grid item>\n                      <IconButton onClick={() => setExpanded(true)}>\n                        <SettingsIcon />\n                      </IconButton>\n                    </Grid>\n                  )}\n                </Grid>\n              </Toolbar>\n            </Paper>\n          </Grid>\n          <Grid item>\n            {!expanded ? (\n              <Paper className={classes.sliderContainer}>\n                <Grid container direction=\"column\" alignItems=\"center\">\n                  <Grid item>\n                    <span className={classes.title}>{deviceName}</span>\n                  </Grid>\n                  <Grid item style={{ width: '100%' }}>\n                    <Slider\n                      max={positions.length - 1}\n                      step={null}\n                      marks={positions.map((_, index) => ({ value: index }))}\n                      value={index}\n                      onChange={(_, index) => setIndex(index)}\n                      valueLabelDisplay=\"auto\"\n                      valueLabelFormat={(i) => (i < positions.length ? formatPosition(positions[i], 'fixTime') : '')}\n                      ValueLabelComponent={TimeLabel}\n                    />\n                  </Grid>\n                  <Grid item container justifyContent=\"space-between\" alignItems=\"center\">\n                    <Grid item xs={2}>{`${index}/${positions.length}`}</Grid>\n                    <Grid item xs={2}>\n                      <IconButton onClick={() => setIndex((index) => index - 1)} disabled={isPlaying}>\n                        <FastRewindIcon />\n                      </IconButton>\n                    </Grid>\n                    <Grid item xs={2}>\n                      <IconButton onClick={() => setIsPlaying(!isPlaying)}>\n                        {isPlaying ? <PauseIcon /> : <PlayArrowIcon /> }\n                      </IconButton>\n                    </Grid>\n                    <Grid item xs={2}>\n                      <IconButton onClick={() => setIndex((index) => index + 1)} disabled={isPlaying}>\n                        <FastForwardIcon />\n                      </IconButton>\n                    </Grid>\n                    <Grid item xs>{formatPosition(positions[index], 'fixTime')}</Grid>\n                  </Grid>\n                </Grid>\n              </Paper>\n            ) : (\n              <Paper elevation={3} className={classes.reportFilterContainer} square>\n                <ReportFilter handleSubmit={handleSubmit} fullScreen showOnly>\n                  <Grid item xs={6}>\n                    <TextField\n                      fullWidth\n                      label={t('reportPlaybackPerMinute')}\n                      value={playbackSpeed}\n                      onChange={(e) => setPlaybackSpeed(e.target.value)}\n                      variant=\"filled\"\n                    />\n                  </Grid>\n                  <Grid item xs={6}>\n                    <FormControlLabel\n                      classes={{ root: classes.formControlLabel }}\n                      control={(\n                        <Switch\n                          checked={isPlaying}\n                          onChange={(e) => setIsPlaying(e.target.checked)}\n                          color=\"primary\"\n                          edge=\"start\"\n                        />\n                      )}\n                      label={t('reportAutoPlay')}\n                      labelPlacement=\"start\"\n                    />\n                  </Grid>\n                </ReportFilter>\n              </Paper>\n            )}\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default ReplayPage;\n","import React, { useState } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { useTheme } from '@material-ui/core/styles';\nimport {\n  formatDistance, formatSpeed, formatHours, formatDate, formatVolume,\n} from '../common/formatter';\nimport ReportFilter from './ReportFilter';\nimport ReportLayout from './ReportLayout';\nimport { useAttributePreference } from '../common/preferences';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst Filter = ({ setItems }) => {\n  const handleSubmit = async (deviceId, from, to, mail, headers) => {\n    const query = new URLSearchParams({\n      deviceId, from, to, mail,\n    });\n    const response = await fetch(`/api/reports/trips?${query.toString()}`, { headers });\n    if (response.ok) {\n      const contentType = response.headers.get('content-type');\n      if (contentType) {\n        if (contentType === 'application/json') {\n          setItems(await response.json());\n        } else {\n          window.location.assign(window.URL.createObjectURL(await response.blob()));\n        }\n      }\n    }\n  };\n\n  return <ReportFilter handleSubmit={handleSubmit} />;\n};\n\nconst TripReportPage = () => {\n  const theme = useTheme();\n  const t = useTranslation();\n\n  const distanceUnit = useAttributePreference('distanceUnit');\n  const speedUnit = useAttributePreference('speedUnit');\n  const volumeUnit = useAttributePreference('volumeUnit');\n\n  const [items, setItems] = useState([]);\n\n  const columns = [{\n    headerName: t('reportStartTime'),\n    field: 'startTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value),\n  }, {\n    headerName: t('reportStartOdometer'),\n    field: 'startOdometer',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit, t),\n  }, {\n    headerName: t('reportStartAddress'),\n    field: 'startAddress',\n    type: 'string',\n    hide: true,\n    width: theme.dimensions.columnWidthString,\n  }, {\n    headerName: t('reportEndTime'),\n    field: 'endTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value),\n  }, {\n    headerName: t('reportEndOdometer'),\n    field: 'endOdometer',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit, t),\n  }, {\n    headerName: t('reportEndAddress'),\n    field: 'endAddress',\n    type: 'string',\n    hide: true,\n    width: theme.dimensions.columnWidthString,\n  }, {\n    headerName: t('sharedDistance'),\n    field: 'distance',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit, t),\n  }, {\n    headerName: t('reportAverageSpeed'),\n    field: 'averageSpeed',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatSpeed(value, speedUnit, t),\n  }, {\n    headerName: t('reportMaximumSpeed'),\n    field: 'maxSpeed',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatSpeed(value, speedUnit, t),\n  }, {\n    headerName: t('reportDuration'),\n    field: 'duration',\n    type: 'string',\n    width: theme.dimensions.columnWidthString,\n    valueFormatter: ({ value }) => formatHours(value),\n  }, {\n    headerName: t('reportSpentFuel'),\n    field: 'spentFuel',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    hide: true,\n    valueFormatter: ({ value }) => formatVolume(value, volumeUnit, t),\n  }, {\n    headerName: t('sharedDriver'),\n    field: 'driverName',\n    type: 'string',\n    width: theme.dimensions.columnWidthString,\n    hide: true,\n  }];\n\n  return (\n    <ReportLayout filter={<Filter setItems={setItems} />}>\n      <DataGrid\n        rows={items}\n        columns={columns}\n        hideFooter\n        autoHeight\n        getRowId={() => Math.random()}\n      />\n    </ReportLayout>\n  );\n};\n\nexport default TripReportPage;\n","import React, { useState } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { useTheme } from '@material-ui/core/styles';\nimport {\n  formatDistance, formatHours, formatDate, formatVolume,\n} from '../common/formatter';\nimport ReportFilter from './ReportFilter';\nimport ReportLayout from './ReportLayout';\nimport { useAttributePreference } from '../common/preferences';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst Filter = ({ setItems }) => {\n  const handleSubmit = async (deviceId, from, to, mail, headers) => {\n    const query = new URLSearchParams({\n      deviceId, from, to, mail,\n    });\n    const response = await fetch(`/api/reports/stops?${query.toString()}`, { headers });\n    if (response.ok) {\n      const contentType = response.headers.get('content-type');\n      if (contentType) {\n        if (contentType === 'application/json') {\n          setItems(await response.json());\n        } else {\n          window.location.assign(window.URL.createObjectURL(await response.blob()));\n        }\n      }\n    }\n  };\n\n  return <ReportFilter handleSubmit={handleSubmit} />;\n};\n\nconst StopReportPage = () => {\n  const theme = useTheme();\n  const t = useTranslation();\n\n  const distanceUnit = useAttributePreference('distanceUnit');\n  const volumeUnit = useAttributePreference('volumeUnit');\n\n  const [items, setItems] = useState([]);\n\n  const columns = [{\n    headerName: t('reportStartTime'),\n    field: 'startTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value),\n  }, {\n    headerName: t('positionOdometer'),\n    field: 'startOdometer',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit, t),\n  }, {\n    headerName: t('positionAddress'),\n    field: 'address',\n    type: 'string',\n    hide: true,\n    width: theme.dimensions.columnWidthString,\n  }, {\n    headerName: t('reportEndTime'),\n    field: 'endTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value),\n  }, {\n    headerName: t('reportDuration'),\n    field: 'duration',\n    type: 'string',\n    width: theme.dimensions.columnWidthString,\n    valueFormatter: ({ value }) => formatHours(value),\n  }, {\n    headerName: t('reportEngineHours'),\n    field: 'engineHours',\n    type: 'string',\n    width: theme.dimensions.columnWidthString,\n    valueFormatter: ({ value }) => formatHours(value),\n  }, {\n    headerName: t('reportSpentFuel'),\n    field: 'spentFuel',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    hide: true,\n    valueFormatter: ({ value }) => formatVolume(value, volumeUnit, t),\n  }];\n\n  return (\n    <ReportLayout filter={<Filter setItems={setItems} />}>\n      <DataGrid\n        rows={items}\n        columns={columns}\n        hideFooter\n        autoHeight\n        getRowId={() => Math.random()}\n      />\n    </ReportLayout>\n  );\n};\n\nexport default StopReportPage;\n","import React, { useState } from 'react';\nimport { DataGrid } from '@material-ui/data-grid';\nimport { Grid, FormControlLabel, Checkbox } from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\nimport {\n  formatDistance, formatHours, formatDate, formatSpeed, formatVolume,\n} from '../common/formatter';\nimport ReportFilter from './ReportFilter';\nimport ReportLayout from './ReportLayout';\nimport { useAttributePreference } from '../common/preferences';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst Filter = ({ setItems }) => {\n  const t = useTranslation();\n\n  const [daily, setDaily] = useState(false);\n\n  const handleSubmit = async (deviceId, from, to, mail, headers) => {\n    const query = new URLSearchParams({\n      deviceId, from, to, daily, mail,\n    });\n    const response = await fetch(`/api/reports/summary?${query.toString()}`, { headers });\n    if (response.ok) {\n      const contentType = response.headers.get('content-type');\n      if (contentType) {\n        if (contentType === 'application/json') {\n          setItems(await response.json());\n        } else {\n          window.location.assign(window.URL.createObjectURL(await response.blob()));\n        }\n      }\n    }\n  };\n\n  return (\n    <ReportFilter handleSubmit={handleSubmit}>\n      <Grid item xs={12} sm={6}>\n        <FormControlLabel\n          control={<Checkbox checked={daily} onChange={(e) => setDaily(e.target.checked)} />}\n          label={t('reportDaily')}\n        />\n      </Grid>\n    </ReportFilter>\n  );\n};\n\nconst SummaryReportPage = () => {\n  const theme = useTheme();\n  const t = useTranslation();\n\n  const distanceUnit = useAttributePreference('distanceUnit');\n  const speedUnit = useAttributePreference('speedUnit');\n  const volumeUnit = useAttributePreference('volumeUnit');\n\n  const [items, setItems] = useState([]);\n\n  const columns = [{\n    headerName: t('reportStartDate'),\n    field: 'startTime',\n    type: 'dateTime',\n    width: theme.dimensions.columnWidthDate,\n    valueFormatter: ({ value }) => formatDate(value, 'YYYY-MM-DD'),\n  }, {\n    headerName: t('sharedDistance'),\n    field: 'distance',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit, t),\n  }, {\n    headerName: t('reportStartOdometer'),\n    field: 'startOdometer',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit, t),\n  }, {\n    headerName: t('reportEndOdometer'),\n    field: 'endOdometer',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatDistance(value, distanceUnit, t),\n  }, {\n    headerName: t('reportAverageSpeed'),\n    field: 'averageSpeed',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatSpeed(value, speedUnit, t),\n  }, {\n    headerName: t('reportMaximumSpeed'),\n    field: 'maxSpeed',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatSpeed(value, speedUnit, t),\n  }, {\n    headerName: t('reportEngineHours'),\n    field: 'engineHours',\n    type: 'string',\n    width: theme.dimensions.columnWidthNumber,\n    valueFormatter: ({ value }) => formatHours(value),\n  }, {\n    headerName: t('reportSpentFuel'),\n    field: 'spentFuel',\n    type: 'number',\n    width: theme.dimensions.columnWidthNumber,\n    hide: true,\n    valueFormatter: ({ value }) => formatVolume(value, volumeUnit, t),\n  }];\n\n  return (\n    <ReportLayout filter={<Filter setItems={setItems} />}>\n      <DataGrid\n        rows={items}\n        columns={columns}\n        hideFooter\n        autoHeight\n        getRowId={() => Math.random()}\n      />\n    </ReportLayout>\n  );\n};\n\nexport default SummaryReportPage;\n","import React from 'react';\nimport { withWidth } from '@material-ui/core';\nimport {\n  LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer,\n} from 'recharts';\n\nconst CustomizedAxisTick = ({ x, y, payload }) => {\n  if (!payload.value) {\n    return payload.value;\n  }\n  const parts = payload.value.split(' ');\n  return (\n    <g transform={`translate(${x},${y})`}>\n      <text x={0} y={0} dy={16} textAnchor=\"end\" fill=\"#666\" transform=\"rotate(-35)\">{parts[0]}</text>\n      <text x={0} y={16} dy={16} textAnchor=\"end\" fill=\"#666\" transform=\"rotate(-35)\">{parts[1]}</text>\n    </g>\n  );\n};\n\nconst Graph = ({ type, items }) => (\n  <ResponsiveContainer height={400} width=\"100%\" debounce={1}>\n    <LineChart data={items}>\n      <XAxis dataKey=\"fixTime\" tick={<CustomizedAxisTick />} height={60} />\n      <YAxis />\n      <CartesianGrid strokeDasharray=\"3 3\" />\n      <Tooltip />\n      <Legend />\n      <Line type=\"natural\" dataKey={type} />\n    </LineChart>\n  </ResponsiveContainer>\n);\n\nexport default withWidth()(Graph);\n","const speedConverter = (unit) => {\n  switch (unit) {\n    case 'kmh':\n      return 1.852;\n    case 'mph':\n      return 1.15078;\n    case 'kn':\n    default:\n      return 1;\n  }\n};\n\nconst distanceConverter = (unit) => {\n  switch (unit) {\n    case 'mi':\n      return 0.000621371;\n    case 'nmi':\n      return 0.000539957;\n    case 'km':\n    default:\n      return 0.001;\n  }\n};\n\nexport const speedFromKnots = (value, unit) => value * speedConverter(unit);\n\nexport const speedToKnots = (value, unit) => value / speedConverter(unit);\n\nexport const distanceFromMeters = (value, unit) => value * distanceConverter(unit);\n\nexport const distanceToMeters = (value, unit) => value / distanceConverter(unit);\n","import React, { useState } from 'react';\nimport {\n  Grid, FormControl, InputLabel, Select, MenuItem,\n} from '@material-ui/core';\nimport ReportLayout from './ReportLayout';\nimport ReportFilter from './ReportFilter';\nimport Graph from './Graph';\nimport { useAttributePreference } from '../common/preferences';\nimport { formatDate } from '../common/formatter';\nimport { speedFromKnots } from '../common/converter';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst Filter = ({ children, setItems }) => {\n  const speedUnit = useAttributePreference('speedUnit');\n\n  const handleSubmit = async (deviceId, from, to, mail, headers) => {\n    const query = new URLSearchParams({\n      deviceId, from, to, mail,\n    });\n    const response = await fetch(`/api/reports/route?${query.toString()}`, { headers });\n    if (response.ok) {\n      const positions = await response.json();\n      const formattedPositions = positions.map((position) => ({\n        speed: Number(speedFromKnots(position.speed, speedUnit)),\n        altitude: position.altitude,\n        accuracy: position.accuracy,\n        fixTime: formatDate(position.fixTime),\n      }));\n      setItems(formattedPositions);\n    }\n  };\n  return (\n    <>\n      <ReportFilter handleSubmit={handleSubmit} showOnly />\n      {children}\n    </>\n  );\n};\n\nconst ChartType = ({ type, setType }) => {\n  const t = useTranslation();\n\n  return (\n    <Grid container spacing={3}>\n      <Grid item xs={12} sm={6}>\n        <FormControl variant=\"filled\" margin=\"normal\" fullWidth>\n          <InputLabel>{t('reportChartType')}</InputLabel>\n          <Select value={type} onChange={(e) => setType(e.target.value)}>\n            <MenuItem value=\"speed\">{t('positionSpeed')}</MenuItem>\n            <MenuItem value=\"accuracy\">{t('positionAccuracy')}</MenuItem>\n            <MenuItem value=\"altitude\">{t('positionAltitude')}</MenuItem>\n          </Select>\n        </FormControl>\n      </Grid>\n    </Grid>\n  );\n};\n\nconst ChartReportPage = () => {\n  const [items, setItems] = useState([]);\n  const [type, setType] = useState('speed');\n\n  return (\n    <ReportLayout filter={(\n      <Filter setItems={setItems}>\n        <ChartType type={type} setType={setType} />\n      </Filter>\n    )}\n    >\n      <Graph items={items} type={type} />\n    </ReportLayout>\n  );\n};\n\nexport default ChartReportPage;\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\nimport OptionsLayout from './OptionsLayout';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst DriversView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const [items, setItems] = useState([]);\n\n  useEffectAsync(async () => {\n    const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/drivers');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.columnAction} />\n            <TableCell>{t('sharedName')}</TableCell>\n            <TableCell>{t('deviceIdentifier')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell>{item.name}</TableCell>\n              <TableCell>{item.uniqueId}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst DriversPage = () => (\n  <OptionsLayout>\n    <EditCollectionView content={DriversView} editPath=\"/settings/driver\" endpoint=\"drivers\" />\n  </OptionsLayout>\n);\n\nexport default DriversPage;\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport EditItemView from '../EditItemView';\nimport EditAttributesView from '../attributes/EditAttributesView';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst DriverPage = () => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const [item, setItem] = useState();\n\n  return (\n    <EditItemView endpoint=\"drivers\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n              <TextField\n                margin=\"normal\"\n                value={item.uniqueId || ''}\n                onChange={(event) => setItem({ ...item, uniqueId: event.target.value })}\n                label={t('deviceIdentifier')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={{}}\n              />\n            </AccordionDetails>\n          </Accordion>\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default DriverPage;\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\nimport OptionsLayout from './OptionsLayout';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst CalendarsView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const [items, setItems] = useState([]);\n\n  useEffectAsync(async () => {\n    const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/calendars');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.columnAction} />\n            <TableCell>{t('sharedName')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell>{item.name}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst CalendarsPage = () => (\n  <OptionsLayout>\n    <EditCollectionView content={CalendarsView} editPath=\"/settings/calendar\" endpoint=\"calendars\" />\n  </OptionsLayout>\n);\n\nexport default CalendarsPage;\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { DropzoneArea } from 'material-ui-dropzone';\nimport EditItemView from '../EditItemView';\nimport EditAttributesView from '../attributes/EditAttributesView';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst CalendarPage = () => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const [item, setItem] = useState();\n\n  const handleFiles = (files) => {\n    if (files.length > 0) {\n      const reader = new FileReader();\n      reader.onload = (event) => {\n        const { result } = event.target;\n        setItem({ ...item, data: result.substr(result.indexOf(',') + 1) });\n      };\n      reader.readAsDataURL(files[0]);\n    } else {\n      setItem({ ...item, data: null });\n    }\n  };\n\n  return (\n    <EditItemView endpoint=\"calendars\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n              <DropzoneArea\n                filesLimit={1}\n                onChange={handleFiles}\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={{}}\n              />\n            </AccordionDetails>\n          </Accordion>\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default CalendarPage;\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useSelector } from 'react-redux';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\nimport OptionsLayout from './OptionsLayout';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst ComputedAttributeView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const [items, setItems] = useState([]);\n  const adminEnabled = useSelector((state) => state.session.user && state.session.user.administrator);\n\n  useEffectAsync(async () => {\n    const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/attributes/computed');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            {adminEnabled && <TableCell className={classes.columnAction} />}\n            <TableCell>{t('sharedDescription')}</TableCell>\n            <TableCell>{t('sharedAttribute')}</TableCell>\n            <TableCell>{t('sharedExpression')}</TableCell>\n            <TableCell>{t('sharedType')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              {adminEnabled\n              && (\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              )}\n              <TableCell>{item.description}</TableCell>\n              <TableCell>{item.attribute}</TableCell>\n              <TableCell>{item.expression}</TableCell>\n              <TableCell>{item.type}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst ComputedAttributesPage = () => (\n  <OptionsLayout>\n    <EditCollectionView content={ComputedAttributeView} editPath=\"/settings/attribute\" endpoint=\"attributes/computed\" />\n  </OptionsLayout>\n);\n\nexport default ComputedAttributesPage;\n","import { useMemo } from 'react';\n\nexport default (t) => useMemo(() => ({\n  raw: {\n    name: t('positionRaw'),\n    type: 'string',\n  },\n  index: {\n    name: t('positionIndex'),\n    type: 'number',\n  },\n  ignition: {\n    name: t('positionIgnition'),\n    type: 'boolean',\n  },\n  odometer: {\n    name: t('positionOdometer'),\n    type: 'number',\n    dataType: 'distance',\n  },\n}), [t]);\n","import React, { useState } from 'react';\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, FormControl, InputLabel, MenuItem, Select, TextField,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport EditItemView from '../EditItemView';\nimport { useTranslation } from '../LocalizationProvider';\nimport usePositionAttributes from '../attributes/usePositionAttributes';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst ComputedAttributePage = () => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const positionAttributes = usePositionAttributes(t);\n\n  const [item, setItem] = useState();\n  const [key, setKey] = useState();\n\n  const options = Object.entries(positionAttributes).map(([key, value]) => ({\n    key,\n    name: value.name,\n    type: value.type,\n  }));\n\n  const handleChange = (event) => {\n    const newValue = event.target.value;\n    setKey(newValue);\n    const positionAttribute = positionAttributes[newValue];\n    if (positionAttribute && positionAttribute.type) {\n      setItem({ ...item, attribute: newValue, type: positionAttribute.type });\n    } else {\n      setItem({ ...item, attribute: newValue });\n    }\n  };\n\n  return (\n    <EditItemView endpoint=\"/attributes/computed\" item={item} setItem={setItem}>\n      {item\n        && (\n        <Accordion defaultExpanded>\n          <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n            <Typography variant=\"subtitle1\">\n              {t('sharedRequired')}\n            </Typography>\n          </AccordionSummary>\n          <AccordionDetails className={classes.details}>\n            <TextField\n              margin=\"normal\"\n              value={item.description || ''}\n              onChange={(event) => setItem({ ...item, description: event.target.value })}\n              label={t('sharedDescription')}\n              variant=\"filled\"\n            />\n            <FormControl variant=\"filled\" margin=\"normal\" fullWidth>\n              <InputLabel>{t('sharedAttribute')}</InputLabel>\n              <Select\n                value={item.attribute || ''}\n                onChange={handleChange}\n              >\n                {options.map((option) => (\n                  <MenuItem key={option.key} value={option.key}>{option.name}</MenuItem>\n                ))}\n              </Select>\n            </FormControl>\n            <TextField\n              margin=\"normal\"\n              value={item.expression || ''}\n              onChange={(event) => setItem({ ...item, expression: event.target.value })}\n              label={t('sharedExpression')}\n              multiline\n              rows={4}\n              variant=\"filled\"\n            />\n            <FormControl\n              variant=\"filled\"\n              margin=\"normal\"\n              fullWidth\n              disabled={key in positionAttributes}\n            >\n              <InputLabel>{t('sharedType')}</InputLabel>\n              <Select\n                value={item.type || ''}\n                onChange={(event) => setItem({ ...item, type: event.target.value })}\n              >\n                <MenuItem value=\"string\">{t('sharedTypeString')}</MenuItem>\n                <MenuItem value=\"number\">{t('sharedTypeNumber')}</MenuItem>\n                <MenuItem value=\"boolean\">{t('sharedTypeBoolean')}</MenuItem>\n              </Select>\n            </FormControl>\n          </AccordionDetails>\n        </Accordion>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default ComputedAttributePage;\n","import React, { useState } from 'react';\nimport {\n  TableContainer, Table, TableRow, TableCell, TableHead, TableBody, makeStyles, IconButton,\n} from '@material-ui/core';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\nimport { useEffectAsync } from '../reactHelper';\nimport EditCollectionView from '../EditCollectionView';\n\nimport usePositionAttributes from '../attributes/usePositionAttributes';\nimport { formatDistance, formatSpeed } from '../common/formatter';\nimport { useAttributePreference } from '../common/preferences';\nimport OptionsLayout from './OptionsLayout';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  columnAction: {\n    width: theme.spacing(1),\n    padding: theme.spacing(0, 1),\n  },\n}));\n\nconst MaintenancesView = ({ updateTimestamp, onMenuClick }) => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const positionAttributes = usePositionAttributes(t);\n\n  const [items, setItems] = useState([]);\n  const speedUnit = useAttributePreference('speedUnit');\n  const distanceUnit = useAttributePreference('distanceUnit');\n\n  useEffectAsync(async () => {\n    const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/maintenance');\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  }, [updateTimestamp]);\n\n  const convertAttribute = (key, value) => {\n    const attribute = positionAttributes[key];\n    if (attribute && attribute.dataType) {\n      switch (attribute.dataType) {\n        case 'speed':\n          return formatSpeed(value, speedUnit, t);\n        case 'distance':\n          return formatDistance(value, distanceUnit, t);\n        default:\n          return value;\n      }\n    }\n\n    return value;\n  };\n\n  return (\n    <TableContainer>\n      <Table>\n        <TableHead>\n          <TableRow>\n            <TableCell className={classes.columnAction} />\n            <TableCell>{t('sharedName')}</TableCell>\n            <TableCell>{t('sharedType')}</TableCell>\n            <TableCell>{t('maintenanceStart')}</TableCell>\n            <TableCell>{t('maintenancePeriod')}</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {items.map((item) => (\n            <TableRow key={item.id}>\n              <TableCell className={classes.columnAction} padding=\"none\">\n                <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                  <MoreVertIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell>{item.name}</TableCell>\n              <TableCell>{item.type}</TableCell>\n              <TableCell>{convertAttribute(item.type, item.start)}</TableCell>\n              <TableCell>{convertAttribute(item.type, item.period)}</TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n};\n\nconst MaintenacesPage = () => (\n  <OptionsLayout>\n    <EditCollectionView content={MaintenancesView} editPath=\"/settings/maintenance\" endpoint=\"maintenance\" />\n  </OptionsLayout>\n);\n\nexport default MaintenacesPage;\n","import React, { useState } from 'react';\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography, TextField, FormControl, InputLabel, MenuItem, Select,\n} from '@material-ui/core';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { prefixString } from '../common/stringUtils';\nimport EditItemView from '../EditItemView';\nimport EditAttributesView from '../attributes/EditAttributesView';\nimport { useAttributePreference } from '../common/preferences';\nimport {\n  speedFromKnots, speedToKnots, distanceFromMeters, distanceToMeters,\n} from '../common/converter';\nimport { useTranslation } from '../LocalizationProvider';\nimport usePositionAttributes from '../attributes/usePositionAttributes';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst MaintenancePage = () => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const positionAttributes = usePositionAttributes(t);\n\n  const [item, setItem] = useState();\n  const [labels, setLabels] = useState({ start: '', period: '' });\n\n  const speedUnit = useAttributePreference('speedUnit');\n  const distanceUnit = useAttributePreference('distanceUnit');\n\n  const convertToList = (attributes) => {\n    const otherList = [];\n    Object.keys(attributes).forEach((key) => {\n      const value = attributes[key];\n      if (value.type === 'number') {\n        otherList.push({ key, name: value.name, type: value.type });\n      }\n    });\n    return otherList;\n  };\n\n  const onMaintenanceTypeChange = (event) => {\n    const newValue = event.target.value;\n    setItem({\n      ...item, type: newValue, start: 0, period: 0,\n    });\n\n    const attribute = positionAttributes[newValue];\n    if (attribute && attribute.dataType) {\n      switch (attribute.dataType) {\n        case 'distance':\n          setLabels({ ...labels, start: t(prefixString('shared', distanceUnit)), period: t(prefixString('shared', distanceUnit)) });\n          break;\n        case 'speed':\n          setLabels({ ...labels, start: t(prefixString('shared', speedUnit)), period: t(prefixString('shared', speedUnit)) });\n          break;\n        default:\n          break;\n      }\n    }\n  };\n\n  const rawToValue = (value) => {\n    const attribute = positionAttributes[item.type];\n    if (attribute && attribute.dataType) {\n      switch (attribute.dataType) {\n        case 'speed':\n          return speedFromKnots(value, speedUnit);\n        case 'distance':\n          return distanceFromMeters(value, distanceUnit);\n        default:\n          return value;\n      }\n    }\n    return value;\n  };\n\n  const valueToRaw = (value) => {\n    const attribute = positionAttributes[item.type];\n    if (attribute && attribute.dataType) {\n      switch (attribute.dataType) {\n        case 'speed':\n          return speedToKnots(value, speedUnit);\n        case 'distance':\n          return distanceToMeters(value, distanceUnit);\n        default:\n          return value;\n      }\n    }\n    return value;\n  };\n\n  return (\n    <EditItemView endpoint=\"maintenance\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n              <FormControl variant=\"filled\" margin=\"normal\" fullWidth>\n                <InputLabel>{t('sharedType')}</InputLabel>\n                <Select\n                  value={item.type || ''}\n                  onChange={onMaintenanceTypeChange}\n                >\n                  {convertToList(positionAttributes).map(({ key, name }) => (\n                    <MenuItem key={key} value={key}>{name}</MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n              <TextField\n                margin=\"normal\"\n                type=\"number\"\n                value={rawToValue(item.start) || ''}\n                onChange={(event) => setItem({ ...item, start: valueToRaw(event.target.value) })}\n                label={t('maintenanceStart')}\n                variant=\"filled\"\n                InputProps={{\n                  endAdornment: <InputAdornment position=\"start\">{labels.start}</InputAdornment>,\n                }}\n              />\n              <TextField\n                margin=\"normal\"\n                type=\"number\"\n                value={rawToValue(item.period) || ''}\n                onChange={(event) => setItem({ ...item, period: valueToRaw(event.target.value) })}\n                label={t('maintenancePeriod')}\n                variant=\"filled\"\n                InputProps={{\n                  endAdornment: <InputAdornment position=\"start\">{labels.period}</InputAdornment>,\n                }}\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={{}}\n              />\n            </AccordionDetails>\n          </Accordion>\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default MaintenancePage;\n","import React, { useState } from 'react';\nimport {\n  FormControl, InputLabel, Select, MenuItem, TextField, Button, TableContainer, Table, TableRow, TableCell, TableHead, TableBody, Paper,\n} from '@material-ui/core';\nimport moment from 'moment';\nimport { formatDate } from '../common/formatter';\nimport OptionsLayout from '../settings/OptionsLayout';\nimport { useTranslation } from '../LocalizationProvider';\n\nconst Filter = ({ setItems }) => {\n  const t = useTranslation();\n\n  const [period, setPeriod] = useState('today');\n  const [from, setFrom] = useState(moment().subtract(1, 'hour'));\n  const [to, setTo] = useState(moment());\n\n  const handleClick = async () => {\n    let selectedFrom;\n    let selectedTo;\n    switch (period) {\n      case 'today':\n        selectedFrom = moment().startOf('day');\n        selectedTo = moment().endOf('day');\n        break;\n      case 'yesterday':\n        selectedFrom = moment().subtract(1, 'day').startOf('day');\n        selectedTo = moment().subtract(1, 'day').endOf('day');\n        break;\n      case 'thisWeek':\n        selectedFrom = moment().startOf('week');\n        selectedTo = moment().endOf('week');\n        break;\n      case 'previousWeek':\n        selectedFrom = moment().subtract(1, 'week').startOf('week');\n        selectedTo = moment().subtract(1, 'week').endOf('week');\n        break;\n      case 'thisMonth':\n        selectedFrom = moment().startOf('month');\n        selectedTo = moment().endOf('month');\n        break;\n      case 'previousMonth':\n        selectedFrom = moment().subtract(1, 'month').startOf('month');\n        selectedTo = moment().subtract(1, 'month').endOf('month');\n        break;\n      default:\n        selectedFrom = from;\n        selectedTo = to;\n        break;\n    }\n\n    const query = new URLSearchParams({ from: selectedFrom.toISOString(), to: selectedTo.toISOString() });\n    const response = await fetch(`/api/statistics?${query.toString()}`, { Accept: 'application/json' });\n    if (response.ok) {\n      setItems(await response.json());\n    }\n  };\n\n  return (\n    <>\n      <FormControl variant=\"filled\" margin=\"normal\" fullWidth>\n        <InputLabel>{t('reportPeriod')}</InputLabel>\n        <Select value={period} onChange={(e) => setPeriod(e.target.value)}>\n          <MenuItem value=\"today\">{t('reportToday')}</MenuItem>\n          <MenuItem value=\"yesterday\">{t('reportYesterday')}</MenuItem>\n          <MenuItem value=\"thisWeek\">{t('reportThisWeek')}</MenuItem>\n          <MenuItem value=\"previousWeek\">{t('reportPreviousWeek')}</MenuItem>\n          <MenuItem value=\"thisMonth\">{t('reportThisMonth')}</MenuItem>\n          <MenuItem value=\"previousMonth\">{t('reportPreviousMonth')}</MenuItem>\n          <MenuItem value=\"custom\">{t('reportCustom')}</MenuItem>\n        </Select>\n      </FormControl>\n      {period === 'custom' && (\n        <TextField\n          margin=\"normal\"\n          variant=\"filled\"\n          label={t('reportFrom')}\n          type=\"datetime-local\"\n          value={from.format(moment.HTML5_FMT.DATETIME_LOCAL)}\n          onChange={(e) => setFrom(moment(e.target.value, moment.HTML5_FMT.DATETIME_LOCAL))}\n          fullWidth\n        />\n      )}\n      {period === 'custom' && (\n        <TextField\n          margin=\"normal\"\n          variant=\"filled\"\n          label={t('reportTo')}\n          type=\"datetime-local\"\n          value={to.format(moment.HTML5_FMT.DATETIME_LOCAL)}\n          onChange={(e) => setTo(moment(e.target.value, moment.HTML5_FMT.DATETIME_LOCAL))}\n          fullWidth\n        />\n      )}\n      <Button variant=\"contained\" color=\"primary\" onClick={handleClick} fullWidth>{t('reportShow')}</Button>\n    </>\n  );\n};\n\nconst StatisticsPage = () => {\n  const t = useTranslation();\n\n  const [items, setItems] = useState([]);\n\n  return (\n    <OptionsLayout>\n      <Filter setItems={setItems} />\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>{t('statisticsCaptureTime')}</TableCell>\n              <TableCell>{t('statisticsActiveUsers')}</TableCell>\n              <TableCell>{t('statisticsActiveDevices')}</TableCell>\n              <TableCell>{t('statisticsRequests')}</TableCell>\n              <TableCell>{t('statisticsMessagesReceived')}</TableCell>\n              <TableCell>{t('statisticsMessagesStored')}</TableCell>\n              <TableCell>{t('notificatorMail')}</TableCell>\n              <TableCell>{t('notificatorSms')}</TableCell>\n              <TableCell>{t('statisticsGeocoder')}</TableCell>\n              <TableCell>{t('statisticsGeolocation')}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {items.map((item) => (\n              <TableRow key={item.id}>\n                <TableCell>{formatDate(item.captureTime)}</TableCell>\n                <TableCell>{item.activeUsers}</TableCell>\n                <TableCell>{item.activeDevices}</TableCell>\n                <TableCell>{item.requests}</TableCell>\n                <TableCell>{item.messagesReceived}</TableCell>\n                <TableCell>{item.messagesStored}</TableCell>\n                <TableCell>{item.mailSent}</TableCell>\n                <TableCell>{item.smsSent}</TableCell>\n                <TableCell>{item.geocoderRequests}</TableCell>\n                <TableCell>{item.geolocationRequests}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </OptionsLayout>\n  );\n};\n\nexport default StatisticsPage;\n","import { useDispatch, useSelector, connect } from 'react-redux';\n\nimport {\n  geofencesActions, groupsActions, driversActions, maintenancesActions,\n} from './store';\nimport { useEffectAsync } from './reactHelper';\n\nconst CachingController = () => {\n  const authenticated = useSelector((state) => !!state.session.user);\n  const dispatch = useDispatch();\n\n  useEffectAsync(async () => {\n    if (authenticated) {\n      const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/geofences');\n      if (response.ok) {\n        dispatch(geofencesActions.update(await response.json()));\n      }\n    }\n  }, [authenticated]);\n\n  useEffectAsync(async () => {\n    if (authenticated) {\n      const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/groups');\n      if (response.ok) {\n        dispatch(groupsActions.update(await response.json()));\n      }\n    }\n  }, [authenticated]);\n\n  useEffectAsync(async () => {\n    if (authenticated) {\n      const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/drivers');\n      if (response.ok) {\n        dispatch(driversActions.update(await response.json()));\n      }\n    }\n  }, [authenticated]);\n\n  useEffectAsync(async () => {\n    if (authenticated) {\n      const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/maintenance');\n      if (response.ok) {\n        dispatch(maintenancesActions.update(await response.json()));\n      }\n    }\n  }, [authenticated]);\n\n  return null;\n};\n\nexport default connect()(CachingController);\n","import React from 'react';\nimport { useMediaQuery, makeStyles, Paper } from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    height: '100vh',\n  },\n  sidebar: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: theme.palette.secondary.contrastText,\n    background: theme.palette.common.purple,\n    paddingBottom: theme.spacing(5),\n    width: theme.dimensions.sidebarWidth,\n    [theme.breakpoints.down('md')]: {\n      width: theme.dimensions.sidebarWidthTablet,\n    },\n    [theme.breakpoints.down('xs')]: {\n      width: '0px',\n    },\n  },\n  paper: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    flex: 1,\n    boxShadow: '-2px 0px 16px rgba(0, 0, 0, 0.25)',\n    [theme.breakpoints.up('lg')]: {\n      padding: theme.spacing(0, 25, 0, 0),\n    },\n  },\n  form: {\n    maxWidth: theme.spacing(52),\n    padding: theme.spacing(5),\n    width: '100%',\n  },\n  attribution: {\n    position: 'absolute',\n    bottom: theme.spacing(1),\n    right: theme.spacing(1.5),\n    fontSize: 'x-small',\n  },\n}));\n\nconst StartPage = ({ children }) => {\n  const classes = useStyles();\n  const theme = useTheme();\n\n  return (\n    <>\n      <main className={classes.root}>\n        <div className={classes.sidebar}>\n          {!useMediaQuery(theme.breakpoints.down('md'))\n            && (\n            <svg height=\"64\" width=\"240\">\n              <use xlinkHref=\"/logo.svg#img\" />\n            </svg>\n            )}\n        </div>\n        <Paper className={classes.paper}>\n          <form className={classes.form}>\n            { children }\n          </form>\n        </Paper>\n      </main>\n      <div className={classes.attribution}>\n        Powered by&nbsp;\n        <a href=\"https://www.startechzone.com/\">GPS Tracking System</a>\n\t\tTest URL : ${process.env.REACT_APP_URL_NAME}\n      </div>\n    </>\n  );\n};\n\nexport default StartPage;\n","import React, { useState } from 'react';\nimport {\n  Grid, useMediaQuery, makeStyles, InputLabel, Select, MenuItem, FormControl, Button, TextField, Link,\n} from '@material-ui/core';\nimport { useTheme } from '@material-ui/core/styles';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { sessionActions } from '../../store';\nimport { useLocalization, useTranslation } from '../../LocalizationProvider';\nimport StartPage from '../../StartPage';\nimport usePersistedState from '../../common/usePersistedState';\n\nconst useStyles = makeStyles((theme) => ({\n  logoContainer: {\n    textAlign: 'center',\n    color: theme.palette.primary.main,\n  },\n  resetPassword: {\n    cursor: 'pointer',\n  },\n}));\n\nconst LoginForm = () => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const theme = useTheme();\n  const t = useTranslation();\n\n  const { languages, language, setLanguage } = useLocalization();\n  const languageList = Object.entries(languages).map((values) => ({ code: values[0], name: values[1].name }));\n\n  const [failed, setFailed] = useState(false);\n\n  const [email, setEmail] = usePersistedState('loginEmail', '');\n  const [password, setPassword] = useState('');\n\n  const registrationEnabled = useSelector((state) => (state.session.server ? state.session.server.registration : false));\n  const emailEnabled = useSelector((state) => (state.session.server ? state.session.server.emailEnabled : false));\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const response = await fetch('http://139.59.81.79:8082/api/session', {\n      method: 'POST',\n      body: new URLSearchParams(`email=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`),\n    });\n    if (response.ok) {\n      const user = await response.json();\n      dispatch(sessionActions.updateUser(user));\n      history.push('/');\n    } else {\n      setFailed(true);\n      setPassword('');\n    }\n  };\n\n  const handleSpecialKey = (e) => {\n    if (e.keyCode === 13 && email && password) {\n      handleSubmit(e);\n    }\n  };\n\n  return (\n    <StartPage>\n      <Grid container direction=\"column\" spacing={2}>\n        {useMediaQuery(theme.breakpoints.down('md'))\n          && (\n            <Grid item className={classes.logoContainer}>\n              <svg height=\"64\" width=\"240\">\n                <use xlinkHref=\"/logo.svg#img\" />\n              </svg>\n            </Grid>\n          )}\n        <Grid item>\n          <TextField\n            required\n            fullWidth\n            error={failed}\n            label={t('userEmail')}\n            name=\"email\"\n            value={email}\n            autoComplete=\"email\"\n            autoFocus={!email}\n            onChange={(e) => setEmail(e.target.value)}\n            onKeyUp={handleSpecialKey}\n            helperText={failed && 'Invalid username or password'}\n            variant=\"filled\"\n          />\n        </Grid>\n        <Grid item>\n          <TextField\n            required\n            fullWidth\n            error={failed}\n            label={t('userPassword')}\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            autoComplete=\"current-password\"\n            autoFocus={!!email}\n            onChange={(e) => setPassword(e.target.value)}\n            onKeyUp={handleSpecialKey}\n            variant=\"filled\"\n          />\n        </Grid>\n        <Grid item>\n          <Button\n            onClick={handleSubmit}\n            onKeyUp={handleSpecialKey}\n            variant=\"contained\"\n            color=\"secondary\"\n            disabled={!email || !password}\n            fullWidth\n          >\n            {t('loginLogin')}\n          </Button>\n        </Grid>\n        <Grid item container spacing={2}>\n          <Grid item>\n            <Button onClick={() => history.push('/register')} disabled={!registrationEnabled} color=\"secondary\">\n              {t('loginRegister')}\n            </Button>\n          </Grid>\n          <Grid item xs>\n            <FormControl variant=\"filled\" fullWidth>\n              <InputLabel>{t('loginLanguage')}</InputLabel>\n              <Select value={language} onChange={(e) => setLanguage(e.target.value)}>\n                {languageList.map((it) => <MenuItem key={it.code} value={it.code}>{it.name}</MenuItem>)}\n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n        {emailEnabled && (\n        <Grid item container justify=\"flex-end\">\n          <Grid item>\n            <Link onClick={() => history.push('/reset-password')} className={classes.resetPassword} underline=\"none\">{t('loginReset')}</Link>\n          </Grid>\n        </Grid>\n        )}\n      </Grid>\n    </StartPage>\n  );\n};\n\nexport default LoginForm;\n","import React, { useState } from 'react';\nimport {\n  Grid, Button, TextField, Typography, Link, makeStyles, Snackbar,\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport StartPage from '../../StartPage';\nimport { useTranslation } from '../../LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontSize: theme.spacing(3),\n    fontWeight: 500,\n    marginLeft: theme.spacing(2),\n    textTransform: 'uppercase',\n  },\n  link: {\n    fontSize: theme.spacing(3),\n    fontWeight: 500,\n    marginTop: theme.spacing(0.5),\n    cursor: 'pointer',\n  },\n}));\n\nconst RegisterForm = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const t = useTranslation();\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n  const handleSubmit = async () => {\n    const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/users', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ name, email, password }),\n    });\n    if (response.ok) {\n      setSnackbarOpen(true);\n    }\n  };\n\n  return (\n    <StartPage>\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={snackbarOpen}\n        onClose={() => history.push('/login')}\n        autoHideDuration={6000}\n        message={t('loginCreated')}\n      />\n      <Grid container direction=\"column\" spacing={2}>\n        <Grid container item>\n          <Grid item>\n            <Typography className={classes.link} color=\"primary\">\n              <Link onClick={() => history.push('/login')}>\n                <ArrowBackIcon />\n              </Link>\n            </Typography>\n          </Grid>\n          <Grid item xs>\n            <Typography className={classes.title} color=\"primary\">\n              {t('loginRegister')}\n            </Typography>\n          </Grid>\n        </Grid>\n        <Grid item>\n          <TextField\n            required\n            fullWidth\n            label={t('sharedName')}\n            name=\"name\"\n            value={name}\n            autoComplete=\"name\"\n            autoFocus\n            onChange={(event) => setName(event.target.value)}\n            variant=\"filled\"\n          />\n        </Grid>\n        <Grid item>\n          <TextField\n            required\n            fullWidth\n            type=\"email\"\n            label={t('userEmail')}\n            name=\"email\"\n            value={email}\n            autoComplete=\"email\"\n            onChange={(event) => setEmail(event.target.value)}\n            variant=\"filled\"\n          />\n        </Grid>\n        <Grid item>\n          <TextField\n            required\n            fullWidth\n            label={t('userPassword')}\n            name=\"password\"\n            value={password}\n            type=\"password\"\n            autoComplete=\"current-password\"\n            onChange={(event) => setPassword(event.target.value)}\n            variant=\"filled\"\n          />\n        </Grid>\n        <Grid item>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={handleSubmit}\n            disabled={!name || !/(.+)@(.+)\\.(.{2,})/.test(email) || !password}\n            fullWidth\n          >\n            {t('loginRegister')}\n          </Button>\n        </Grid>\n      </Grid>\n    </StartPage>\n  );\n};\n\nexport default RegisterForm;\n","import React, { useState } from 'react';\nimport {\n  Grid, Button, TextField, Typography, Link, makeStyles, Snackbar,\n} from '@material-ui/core';\nimport { useHistory } from 'react-router-dom';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport StartPage from '../../StartPage';\nimport { useTranslation } from '../../LocalizationProvider';\nimport useQuery from '../../common/useQuery';\n\nconst useStyles = makeStyles((theme) => ({\n  title: {\n    fontSize: theme.spacing(3),\n    fontWeight: 500,\n    marginLeft: theme.spacing(2),\n    textTransform: 'uppercase',\n  },\n  link: {\n    fontSize: theme.spacing(3),\n    fontWeight: 500,\n    marginTop: theme.spacing(0.5),\n    cursor: 'pointer',\n  },\n}));\n\nconst ResetPasswordForm = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const t = useTranslation();\n  const query = useQuery();\n\n  const token = query.get('passwordReset');\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    let response;\n    if (!token) {\n      response = await fetch('${process.env.REACT_APP_URL_NAME}/api/password/reset', {\n        method: 'POST',\n        body: new URLSearchParams(`email=${encodeURIComponent(email)}`),\n      });\n    } else {\n      response = await fetch('${process.env.REACT_APP_URL_NAME}/api/password/update', {\n        method: 'POST',\n        body: new URLSearchParams(`token=${encodeURIComponent(token)}&password=${encodeURIComponent(password)}`),\n      });\n    }\n    if (response.ok) {\n      setSnackbarOpen(true);\n    }\n  };\n\n  return (\n    <StartPage>\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={snackbarOpen}\n        onClose={() => history.push('/login')}\n        autoHideDuration={6000}\n        message={!token ? t('loginResetSuccess') : t('loginUpdateSuccess')}\n      />\n      <Grid container direction=\"column\" spacing={2}>\n        <Grid container item>\n          <Grid item>\n            <Typography className={classes.link} color=\"primary\">\n              <Link onClick={() => history.push('/login')}>\n                <ArrowBackIcon />\n              </Link>\n            </Typography>\n          </Grid>\n          <Grid item xs>\n            <Typography className={classes.title} color=\"primary\">\n              {t('loginReset')}\n            </Typography>\n          </Grid>\n        </Grid>\n        {!token\n          ? (\n            <Grid item>\n              <TextField\n                required\n                fullWidth\n                type=\"email\"\n                label={t('userEmail')}\n                name=\"email\"\n                value={email}\n                autoComplete=\"email\"\n                onChange={(event) => setEmail(event.target.value)}\n                variant=\"filled\"\n              />\n            </Grid>\n          )\n          : (\n            <Grid item>\n              <TextField\n                required\n                fullWidth\n                label={t('userPassword')}\n                name=\"password\"\n                value={password}\n                type=\"password\"\n                autoComplete=\"current-password\"\n                onChange={(event) => setPassword(event.target.value)}\n                variant=\"filled\"\n              />\n            </Grid>\n          )}\n        <Grid item>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={handleSubmit}\n            disabled={!/(.+)@(.+)\\.(.{2,})/.test(email) && !password}\n            fullWidth\n          >\n            {t('loginReset')}\n          </Button>\n        </Grid>\n      </Grid>\n    </StartPage>\n  );\n};\n\nexport default ResetPasswordForm;\n","import { useLocation } from 'react-router-dom';\n\nexport default () => new URLSearchParams(useLocation().search);\n","import 'mapbox-gl/dist/mapbox-gl.css';\nimport '@mapbox/mapbox-gl-draw/dist/mapbox-gl-draw.css';\nimport MapboxDraw from '@mapbox/mapbox-gl-draw';\nimport theme from '@mapbox/mapbox-gl-draw/src/lib/theme';\nimport { useEffect } from 'react';\n\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { map } from './Map';\nimport { geofenceToFeature, geometryToArea } from './mapUtil';\nimport { geofencesActions } from '../store';\n\nconst draw = new MapboxDraw({\n  displayControlsDefault: false,\n  controls: {\n    polygon: true,\n    trash: true,\n  },\n  userProperties: true,\n  styles: [...theme, {\n    id: 'gl-draw-title',\n    type: 'symbol',\n    filter: ['all'],\n    layout: {\n      'text-field': '{user_name}',\n      'text-font': ['Roboto Regular'],\n      'text-size': 12,\n    },\n    paint: {\n      'text-halo-color': 'white',\n      'text-halo-width': 1,\n    },\n  }],\n});\n\nconst GeofenceEditMap = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const geofences = useSelector((state) => Object.values(state.geofences.items));\n\n  const refreshGeofences = async () => {\n    const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/geofences');\n    if (response.ok) {\n      dispatch(geofencesActions.refresh(await response.json()));\n    }\n  };\n\n  useEffect(() => {\n    refreshGeofences();\n\n    map.addControl(draw, 'top-left');\n\n    map.on('draw.create', async (event) => {\n      const feature = event.features[0];\n      const newItem = { name: '', area: geometryToArea(feature.geometry) };\n      draw.delete(feature.id);\n      const response = await fetch('${process.env.REACT_APP_URL_NAME}/api/geofences', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(newItem),\n      });\n      if (response.ok) {\n        const item = await response.json();\n        history.push(`/geofence/${item.id}`);\n      }\n    });\n\n    map.on('draw.delete', async (event) => {\n      const feature = event.features[0];\n      const response = await fetch(`/api/geofences/${feature.id}`, { method: 'DELETE' });\n      if (response.ok) {\n        refreshGeofences();\n      }\n    });\n\n    map.on('draw.update', async (event) => {\n      const feature = event.features[0];\n      const item = geofences.find((i) => i.id === feature.id);\n      if (item) {\n        const updatedItem = { ...item, area: geometryToArea(feature.geometry) };\n        const response = await fetch(`/api/geofences/${feature.id}`, {\n          method: 'PUT',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify(updatedItem),\n        });\n        if (response.ok) {\n          refreshGeofences();\n        }\n      }\n    });\n\n    return () => map.removeControl(draw);\n  }, []);\n\n  useEffect(() => {\n    draw.deleteAll();\n    geofences.forEach((geofence) => {\n      draw.add(geofenceToFeature(geofence));\n    });\n  }, [geofences]);\n\n  return null;\n};\n\nexport default GeofenceEditMap;\n","import React, { Fragment } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nimport { devicesActions } from './store';\nimport EditCollectionView from './EditCollectionView';\n\nconst useStyles = makeStyles(() => ({\n  list: {\n    maxHeight: '100%',\n    overflow: 'auto',\n  },\n  icon: {\n    width: '25px',\n    height: '25px',\n    filter: 'brightness(0) invert(1)',\n  },\n}));\n\nconst GeofenceView = ({ onMenuClick }) => {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n\n  const items = useSelector((state) => Object.values(state.geofences.items));\n\n  return (\n    <List className={classes.list}>\n      {items.map((item, index, list) => (\n        <Fragment key={item.id}>\n          <ListItem button key={item.id} onClick={() => dispatch(devicesActions.select(item))}>\n            <ListItemText primary={item.name} />\n            <ListItemSecondaryAction>\n              <IconButton onClick={(event) => onMenuClick(event.currentTarget, item.id)}>\n                <MoreVertIcon />\n              </IconButton>\n            </ListItemSecondaryAction>\n          </ListItem>\n          {index < list.length - 1 ? <Divider /> : null}\n        </Fragment>\n      ))}\n    </List>\n  );\n};\n\nconst GeofencesList = () => (\n  <EditCollectionView content={GeofenceView} editPath=\"/geofence\" endpoint=\"geofences\" disableAdd />\n);\n\nexport default GeofencesList;\n","import React from 'react';\nimport {\n  Divider, isWidthUp, makeStyles, withWidth, Typography, IconButton,\n} from '@material-ui/core';\nimport Drawer from '@material-ui/core/Drawer';\nimport ContainerDimensions from 'react-container-dimensions';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport { useHistory } from 'react-router-dom';\nimport Map from './map/Map';\nimport CurrentLocationMap from './map/CurrentLocationMap';\nimport GeofenceEditMap from './map/GeofenceEditMap';\nimport GeofencesList from './GeofencesList';\nimport { useTranslation } from './LocalizationProvider';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  content: {\n    flexGrow: 1,\n    overflow: 'hidden',\n    display: 'flex',\n    flexDirection: 'row',\n    [theme.breakpoints.down('xs')]: {\n      flexDirection: 'column-reverse',\n    },\n  },\n  drawerPaper: {\n    position: 'relative',\n    [theme.breakpoints.up('sm')]: {\n      width: 350,\n    },\n    [theme.breakpoints.down('xs')]: {\n      height: 250,\n    },\n  },\n  drawerHeader: {\n    ...theme.mixins.toolbar,\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n  },\n  mapContainer: {\n    flexGrow: 1,\n  },\n}));\n\nconst GeofencesPage = ({ width }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const t = useTranslation();\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.content}>\n        <Drawer\n          anchor={isWidthUp('sm', width) ? 'left' : 'bottom'}\n          variant=\"permanent\"\n          classes={{ paper: classes.drawerPaper }}\n        >\n          <div className={classes.drawerHeader}>\n            <IconButton onClick={() => history.goBack()}>\n              <ArrowBackIcon />\n            </IconButton>\n            <Typography variant=\"h6\" color=\"inherit\" noWrap>\n              {t('sharedGeofences')}\n            </Typography>\n          </div>\n          <Divider />\n          <GeofencesList />\n        </Drawer>\n        <div className={classes.mapContainer}>\n          <ContainerDimensions>\n            <Map>\n              <CurrentLocationMap />\n              <GeofenceEditMap />\n            </Map>\n          </ContainerDimensions>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default withWidth()(GeofencesPage);\n","import React, { useState } from 'react';\nimport TextField from '@material-ui/core/TextField';\n\nimport {\n  Accordion, AccordionSummary, AccordionDetails, makeStyles, Typography,\n} from '@material-ui/core';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport EditItemView from './EditItemView';\nimport EditAttributesView from './attributes/EditAttributesView';\nimport { useTranslation } from './LocalizationProvider';\nimport useGeofenceAttributes from './attributes/useGeofenceAttributes';\n\nconst useStyles = makeStyles(() => ({\n  details: {\n    flexDirection: 'column',\n  },\n}));\n\nconst GeofencePage = () => {\n  const classes = useStyles();\n  const t = useTranslation();\n\n  const geofenceAttributes = useGeofenceAttributes(t);\n\n  const [item, setItem] = useState();\n\n  return (\n    <EditItemView endpoint=\"geofences\" item={item} setItem={setItem}>\n      {item\n        && (\n        <>\n          <Accordion defaultExpanded>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedRequired')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <TextField\n                margin=\"normal\"\n                value={item.name || ''}\n                onChange={(event) => setItem({ ...item, name: event.target.value })}\n                label={t('sharedName')}\n                variant=\"filled\"\n              />\n            </AccordionDetails>\n          </Accordion>\n          <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n              <Typography variant=\"subtitle1\">\n                {t('sharedAttributes')}\n              </Typography>\n            </AccordionSummary>\n            <AccordionDetails className={classes.details}>\n              <EditAttributesView\n                attributes={item.attributes}\n                setAttributes={(attributes) => setItem({ ...item, attributes })}\n                definitions={geofenceAttributes}\n              />\n            </AccordionDetails>\n          </Accordion>\n        </>\n        )}\n    </EditItemView>\n  );\n};\n\nexport default GeofencePage;\n","import { useMemo } from 'react';\n\nexport default (t) => useMemo(() => ({\n  speedLimit: {\n    name: t('attributeSpeedLimit'),\n    type: 'string',\n  },\n}), [t]);\n","import React from 'react';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport { Switch, Route } from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { useSelector } from 'react-redux';\nimport { LinearProgress } from '@material-ui/core';\nimport MainPage from './MainPage';\nimport RouteReportPage from './reports/RouteReportPage';\nimport ServerPage from './admin/ServerPage';\nimport UsersPage from './admin/UsersPage';\nimport DevicePage from './DevicePage';\nimport UserPage from './UserPage';\nimport SocketController from './SocketController';\nimport NotificationsPage from './settings/NotificationsPage';\nimport NotificationPage from './settings/NotificationPage';\nimport GroupsPage from './settings/GroupsPage';\nimport GroupPage from './settings/GroupPage';\nimport PositionPage from './PositionPage';\nimport EventReportPage from './reports/EventReportPage';\nimport ReplayPage from './reports/ReplayPage';\nimport TripReportPage from './reports/TripReportPage';\nimport StopReportPage from './reports/StopReportPage';\nimport SummaryReportPage from './reports/SummaryReportPage';\nimport ChartReportPage from './reports/ChartReportPage';\nimport DriversPage from './settings/DriversPage';\nimport DriverPage from './settings/DriverPage';\nimport CalendarsPage from './settings/CalendarsPage';\nimport CalendarPage from './settings/CalendarPage';\nimport ComputedAttributesPage from './settings/ComputedAttributesPage';\nimport ComputedAttributePage from './settings/ComputedAttributePage';\nimport MaintenancesPage from './settings/MaintenancesPage';\nimport MaintenancePage from './settings/MaintenancePage';\nimport StatisticsPage from './admin/StatisticsPage';\nimport CachingController from './CachingController';\n\nimport LoginForm from './components/registration/LoginForm';\nimport RegisterForm from './components/registration/RegisterForm';\nimport ResetPasswordForm from './components/registration/ResetPasswordForm';\n\nimport theme from './theme';\nimport GeofencesPage from './GeofencesPage';\nimport GeofencePage from './GeofencePage';\nimport { LocalizationProvider } from './LocalizationProvider';\n\nconst App = () => {\n  const initialized = useSelector((state) => !!state.session.server && !!state.session.user);\n\n  return (\n    <LocalizationProvider>\n      <ThemeProvider theme={theme}>\n        <CssBaseline />\n        <SocketController />\n        <CachingController />\n        <Switch>\n          <Route exact path=\"/login\" component={LoginForm} />\n          <Route exact path=\"/register\" component={RegisterForm} />\n          <Route exact path=\"/reset-password\" component={ResetPasswordForm} />\n          <Route>\n            {!initialized ? (<LinearProgress />) : (\n              <Switch>\n                <Route exact path=\"/\" component={MainPage} />\n                <Route exact path=\"/replay\" component={ReplayPage} />\n                <Route exact path=\"/position/:id?\" component={PositionPage} />\n                <Route exact path=\"/user/:id?\" component={UserPage} />\n                <Route exact path=\"/device/:id?\" component={DevicePage} />\n                <Route exact path=\"/geofence/:id?\" component={GeofencePage} />\n                <Route exact path=\"/geofences\" component={GeofencesPage} />\n                <Route exact path=\"/settings/notifications\" component={NotificationsPage} />\n                <Route exact path=\"/settings/notification/:id?\" component={NotificationPage} />\n                <Route exact path=\"/settings/groups\" component={GroupsPage} />\n                <Route exact path=\"/settings/group/:id?\" component={GroupPage} />\n                <Route exact path=\"/settings/drivers\" component={DriversPage} />\n                <Route exact path=\"/settings/driver/:id?\" component={DriverPage} />\n                <Route exact path=\"/settings/calendars\" component={CalendarsPage} />\n                <Route exact path=\"/settings/calendar/:id?\" component={CalendarPage} />\n                <Route exact path=\"/settings/attributes\" component={ComputedAttributesPage} />\n                <Route exact path=\"/settings/attribute/:id?\" component={ComputedAttributePage} />\n                <Route exact path=\"/settings/maintenances\" component={MaintenancesPage} />\n                <Route exact path=\"/settings/maintenance/:id?\" component={MaintenancePage} />\n                <Route exact path=\"/admin/server\" component={ServerPage} />\n                <Route exact path=\"/admin/users\" component={UsersPage} />\n                <Route exact path=\"/admin/statistics\" component={StatisticsPage} />\n                <Route exact path=\"/reports/route\" component={RouteReportPage} />\n                <Route exact path=\"/reports/event\" component={EventReportPage} />\n                <Route exact path=\"/reports/trip\" component={TripReportPage} />\n                <Route exact path=\"/reports/stop\" component={StopReportPage} />\n                <Route exact path=\"/reports/summary\" component={SummaryReportPage} />\n                <Route exact path=\"/reports/chart\" component={ChartReportPage} />\n              </Switch>\n            )}\n          </Route>\n        </Switch>\n      </ThemeProvider>\n    </LocalizationProvider>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost'\n    // [::1] is the IPv6 localhost address.\n    || window.location.hostname === '[::1]'\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    || window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service '\n              + 'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all '\n                  + 'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404\n        || (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import 'typeface-roboto';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store';\n\nReactDOM.render((\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>\n), document.getElementById('root'));\n\nserviceWorker.register();\n"],"sourceRoot":""}